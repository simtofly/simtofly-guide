<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="sitlGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a90d9"/>
      <stop offset="100%" style="stop-color:#357abd"/>
    </linearGradient>
    <linearGradient id="mavproxyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#50c878"/>
      <stop offset="100%" style="stop-color:#3da35d"/>
    </linearGradient>
    <linearGradient id="gazeboGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f4a261"/>
      <stop offset="100%" style="stop-color:#e76f51"/>
    </linearGradient>
    <linearGradient id="pluginGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9d4edd"/>
      <stop offset="100%" style="stop-color:#7b2cbf"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="3" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
    <marker id="arrowheadBi" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="500" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="Segoe UI, Arial, sans-serif" font-size="22" font-weight="600" fill="#1e293b" text-anchor="middle">Phase 1: Simulation Architecture</text>
  <text x="450" y="55" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">SimToFly – SITL + MAVProxy + Gazebo Harmonic</text>
  
  <!-- Main Container: Your Computer -->
  <rect x="40" y="75" width="820" height="400" rx="12" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <rect x="40" y="75" width="820" height="40" rx="12" fill="url(#headerGrad)"/>
  <rect x="40" y="103" width="820" height="12" fill="url(#headerGrad)"/>
  <text x="60" y="102" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600" fill="#ffffff">Your Computer (Ubuntu 22.04 LTS)</text>
  
  <!-- ArduPilot SITL Box -->
  <rect x="80" y="145" width="220" height="140" rx="8" fill="url(#sitlGrad)" filter="url(#shadow)"/>
  <text x="190" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="600" fill="#ffffff" text-anchor="middle">ArduPilot SITL</text>
  <text x="190" y="195" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#e0f2fe" text-anchor="middle">Software-In-The-Loop</text>
  <line x1="100" y1="210" x2="280" y2="210" stroke="#ffffff" stroke-opacity="0.3"/>
  <text x="190" y="232" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">ArduCopter V4.5.7</text>
  <text x="190" y="250" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">Flight Controller Firmware</text>
  <text x="190" y="268" font-family="Consolas, monospace" font-size="10" fill="#bfdbfe" text-anchor="middle">localhost:5760</text>
  
  <!-- MAVProxy Box -->
  <rect x="340" y="145" width="220" height="140" rx="8" fill="url(#mavproxyGrad)" filter="url(#shadow)"/>
  <text x="450" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="600" fill="#ffffff" text-anchor="middle">MAVProxy</text>
  <text x="450" y="195" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#dcfce7" text-anchor="middle">Ground Control Station</text>
  <line x1="360" y1="210" x2="540" y2="210" stroke="#ffffff" stroke-opacity="0.3"/>
  <text x="450" y="232" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• Command Console</text>
  <text x="450" y="250" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• 2D Map Window</text>
  <text x="450" y="268" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• Telemetry Display</text>
  
  <!-- Gazebo Box -->
  <rect x="600" y="145" width="220" height="140" rx="8" fill="url(#gazeboGrad)" filter="url(#shadow)"/>
  <text x="710" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="15" font-weight="600" fill="#ffffff" text-anchor="middle">Gazebo Harmonic</text>
  <text x="710" y="195" font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#fef3c7" text-anchor="middle">3D Physics Simulator</text>
  <line x1="620" y1="210" x2="800" y2="210" stroke="#ffffff" stroke-opacity="0.3"/>
  <text x="710" y="232" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• 3D Visualization</text>
  <text x="710" y="250" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• Physics Engine</text>
  <text x="710" y="268" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">• Sensor Simulation</text>
  
  <!-- ArduPilot Gazebo Plugin Box -->
  <rect x="340" y="330" width="220" height="100" rx="8" fill="url(#pluginGrad)" filter="url(#shadow)"/>
  <text x="450" y="365" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="600" fill="#ffffff" text-anchor="middle">ArduPilot Gazebo Plugin</text>
  <line x1="360" y1="380" x2="540" y2="380" stroke="#ffffff" stroke-opacity="0.3"/>
  <text x="450" y="402" font-family="Consolas, monospace" font-size="10" fill="#ffffff" text-anchor="middle">SITL ↔ Gazebo Bridge</text>
  <text x="450" y="418" font-family="Consolas, monospace" font-size="10" fill="#e9d5ff" text-anchor="middle">JSON Protocol</text>
  
  <!-- Connection Lines -->
  <!-- SITL to MAVProxy -->
  <path d="M 300 215 L 340 215" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 340 205 L 300 205" stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- MAVProxy to Gazebo (visual only, no direct connection) -->
  
  <!-- SITL to Plugin -->
  <path d="M 190 285 L 190 340 L 340 380" stroke="#64748b" stroke-width="2" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowhead)"/>
  
  <!-- Plugin to Gazebo -->
  <path d="M 560 380 L 710 380 L 710 285" stroke="#64748b" stroke-width="2" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowhead)"/>
  
  <!-- Labels for connections -->
  <rect x="295" y="185" width="50" height="16" rx="3" fill="#f1f5f9"/>
  <text x="320" y="196" font-family="Consolas, monospace" font-size="9" fill="#475569" text-anchor="middle">MAVLink</text>
  
  <text x="235" y="325" font-family="Consolas, monospace" font-size="9" fill="#64748b">Motor</text>
  <text x="235" y="337" font-family="Consolas, monospace" font-size="9" fill="#64748b">Commands</text>
  
  <text x="635" y="325" font-family="Consolas, monospace" font-size="9" fill="#64748b">Sensor</text>
  <text x="635" y="337" font-family="Consolas, monospace" font-size="9" fill="#64748b">Data</text>
  
  <!-- User Icon and Label -->
  <circle cx="450" cy="95" r="0" fill="#64748b"/>
  
  <!-- Legend -->
  <rect x="80" y="445" width="12" height="12" rx="2" fill="url(#sitlGrad)"/>
  <text x="98" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">Flight Controller (Simulated)</text>
  
  <rect x="260" y="445" width="12" height="12" rx="2" fill="url(#mavproxyGrad)"/>
  <text x="278" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">Ground Control</text>
  
  <rect x="400" y="445" width="12" height="12" rx="2" fill="url(#gazeboGrad)"/>
  <text x="418" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">3D Simulation</text>
  
  <rect x="540" y="445" width="12" height="12" rx="2" fill="url(#pluginGrad)"/>
  <text x="558" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">Communication Bridge</text>
  
  <line x1="700" y1="451" x2="730" y2="451" stroke="#64748b" stroke-width="2"/>
  <text x="738" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">MAVLink Protocol</text>
  
  <line x1="820" y1="451" x2="850" y2="451" stroke="#64748b" stroke-width="2" stroke-dasharray="6,3"/>
  <text x="858" y="455" font-family="Segoe UI, Arial, sans-serif" font-size="10" fill="#475569">JSON</text>
</svg>
