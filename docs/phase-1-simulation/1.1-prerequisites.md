# 1.1 Prerequisites and Setup

## What You'll Learn

Before diving into drone simulation, we'll make sure you have:
- ‚úÖ The right hardware (computer specifications)
- ‚úÖ The right software (Ubuntu 22.04)
- ‚úÖ Understanding of time commitment
- ‚úÖ Proper expectations for the journey ahead

**Time:** 15-20 minutes reading + setup time

---

## üñ•Ô∏è Hardware Requirements

### Minimum Requirements

Your computer needs **at least:**

| Component | Minimum | Recommended | Why? |
|-----------|---------|-------------|------|
| **OS** | Ubuntu 22.04 | Ubuntu 22.04 native | ArduPilot SITL runs on Linux |
| **CPU** | 4 cores, 2.0 GHz | 8 cores, 3.0 GHz+ | Gazebo simulation is CPU-intensive |
| **RAM** | 8 GB | 16 GB+ | Gazebo + ROS2 + SITL use memory |
| **Storage** | 30 GB free | 50 GB+ free | ArduPilot, ROS2, Gazebo, logs |
| **GPU** | Integrated graphics | Dedicated GPU | Better Gazebo visualization |
| **Internet** | Stable connection | High-speed | Downloading packages |

### Can I Use Windows or macOS?

**Short answer:** Use Ubuntu (VM or native).

**Why Ubuntu 22.04 specifically?**
- ArduPilot officially supports Ubuntu
- ROS2 Humble targets Ubuntu 22.04 LTS
- All our instructions tested on this version
- Community support is strongest here

**Options if you don't have Ubuntu:**

1. **Virtual Machine (VM)** ‚Äî Install VirtualBox/VMware, run Ubuntu inside
   - **Pros:** Keep your current OS, easy to snapshot
   - **Cons:** Slower performance, Gazebo may lag
   - **Good for:** Learning and testing

2. **Dual Boot** ‚Äî Install Ubuntu alongside Windows/macOS
   - **Pros:** Full hardware performance
   - **Cons:** Requires disk partitioning, more setup
   - **Good for:** Serious development

3. **Native Ubuntu** ‚Äî Dedicate machine to Ubuntu
   - **Pros:** Best performance, no compromises
   - **Cons:** Need dedicated hardware
   - **Good for:** Long-term drone development

**Our recommendation:** Start with VM if unsure, migrate to native/dual-boot later if performance becomes an issue.

---

## üíø Software Requirements

### Operating System

**Required:** Ubuntu 22.04 LTS (Jammy Jellyfish)

**Download:** https://ubuntu.com/download/desktop

**Why this version?**
- LTS (Long Term Support) ‚Äî Stable, supported until 2027
- ROS2 Humble officially supports it
- ArduPilot SITL tested on it
- This tutorial verified on it

**Don't use:**
- ‚ùå Ubuntu 20.04 (ROS2 Foxy is EOL)
- ‚ùå Ubuntu 24.04 (too new, compatibility issues)
- ‚ùå Other Linux distros (different package managers, untested)

### Software We'll Install (Later Sections)

Don't install these now ‚Äî we'll do it step-by-step:

- **Phase 1:**
  - ArduPilot SITL (Software In The Loop simulator)
  - MAVProxy (Command-line ground control)
  - Gazebo Garden (3D physics simulator)

- **Phase 2:**
  - ROS2 Humble (Robot Operating System)
  - MAVROS (MAVLink ‚Üî ROS2 bridge)
  - RViz (ROS visualization tool)

- **Phase 3:**
  - Various tools for Raspberry Pi setup

**Total download size:** ~10-15 GB  
**Total disk space after install:** ~25-30 GB

---

## ‚è±Ô∏è Time Commitment

Be realistic about time investment:

### Phase 1: Simulation (This Phase)
**Estimated:** 6-8 hours total
- Spread over multiple sessions
- Don't rush ‚Äî understanding matters more than speed
- Each section builds on previous

**Suggested pace:**
- **Week 1:** Sections 1.1-1.3 (environment + SITL)
- **Week 2:** Sections 1.4-1.6 (control + Gazebo + missions)

### Full Tutorial (All 4 Phases)
**Estimated:** 40-60 hours total
- Phase 1: 6-8 hours (simulation)
- Phase 2: 12-16 hours (ROS2 integration)
- Phase 3: 8-12 hours (companion computer)
- Phase 4: 12-16 hours (real hardware)

**This assumes:**
- Following tutorials carefully
- Doing verification steps
- Some troubleshooting time
- Not including hardware assembly

---

## üéì Knowledge Prerequisites

### What You DON'T Need to Know

You don't need prior experience with:
- ‚ùå ROS or ROS2
- ‚ùå ArduPilot or flight controllers
- ‚ùå Drone building or flying
- ‚ùå Advanced programming
- ‚ùå Robotics

**We teach all of this from scratch.**

### What Helps (But Not Required)

Nice to have, but we'll teach as we go:
- Basic Linux terminal commands (`cd`, `ls`, `mkdir`)
- Basic Python reading (not writing complex code)
- Understanding of 3D coordinates (x, y, z)
- Patience and willingness to troubleshoot

**If you've never used Linux terminal:** That's okay! We explain every command.

### Essential Mindset

What you **DO** need:
- ‚úÖ Patience to follow step-by-step
- ‚úÖ Attention to detail (typos break things)
- ‚úÖ Willingness to read error messages
- ‚úÖ Comfort with trial and error
- ‚úÖ Safety-first attitude (especially Phase 4)

---

## üõ†Ô∏è Tools You'll Need

### For Phase 1 (Now)

- [ ] Computer meeting hardware requirements
- [ ] Ubuntu 22.04 installed
- [ ] Text editor (gedit, nano, or VS Code)
- [ ] Terminal application (built into Ubuntu)
- [ ] Stable internet connection

### For Phase 2 (Later)

- [ ] Same computer setup
- [ ] More disk space for ROS2

### For Phase 3 (Later)

- [ ] Raspberry Pi 4 (4GB+ RAM recommended)
- [ ] MicroSD card (32GB+ for Ubuntu)
- [ ] USB cable or network connection
- [ ] Optional: FTDI USB-to-Serial adapter (for testing)

### For Phase 4 (Later)

- [ ] Flight controller (Pixhawk/Cube Orange)
- [ ] Drone frame and components
- [ ] RC transmitter and receiver
- [ ] Battery and charger
- [ ] Safety equipment
- [ ] Open outdoor space for testing

**Don't buy hardware yet!** Complete Phases 1-2 in simulation first.

---

## üìã Ubuntu Installation Guide

### If You Already Have Ubuntu 22.04

Skip to [Verification Steps](#verification-steps) below.

### If You Need to Install Ubuntu

#### Option 1: Virtual Machine (Easiest for Beginners)

**Step 1:** Download VirtualBox
- Visit: https://www.virtualbox.org/
- Download for your OS (Windows/macOS)
- Install VirtualBox

**Step 2:** Download Ubuntu 22.04 ISO
- Visit: https://ubuntu.com/download/desktop
- Download Ubuntu 22.04.x LTS Desktop

**Step 3:** Create Virtual Machine
```
- Open VirtualBox
- Click "New"
- Name: Ubuntu-SimToFly
- Type: Linux
- Version: Ubuntu (64-bit)
- Memory: 8192 MB (8 GB) minimum
- Hard disk: Create virtual hard disk (50 GB+)
- Disk type: VDI
- Storage: Dynamically allocated
```

**Step 4:** Install Ubuntu in VM
```
- Select your VM ‚Üí Click "Start"
- Choose downloaded Ubuntu ISO
- Follow Ubuntu installation wizard
- Choose "Normal installation"
- Download updates during installation
- Install third-party software (for better hardware support)
```

**Step 5:** Install VirtualBox Guest Additions
```
After Ubuntu boots:
- VM Menu ‚Üí Devices ‚Üí Insert Guest Additions CD
- Open terminal in Ubuntu:
  sudo apt update
  sudo apt install build-essential dkms linux-headers-$(uname -r)
  sudo sh /media/$USER/VBox*/VBoxLinuxAdditions.run
- Reboot VM
```

#### Option 2: Dual Boot (Better Performance)

**Warning:** This modifies your disk partitions. Back up important data first!

1. **Create Ubuntu USB:**
   - Download Rufus (Windows) or Etcher (macOS/Linux)
   - Flash Ubuntu 22.04 ISO to USB drive (8GB+)

2. **Free up disk space:**
   - Windows: Disk Management ‚Üí Shrink volume (50GB+)
   - macOS: Disk Utility ‚Üí Partition

3. **Boot from USB:**
   - Restart computer
   - Enter BIOS/UEFI (usually F2, F12, Del, or Esc during boot)
   - Change boot order: USB first
   - Save and exit

4. **Install Ubuntu:**
   - Choose "Install Ubuntu"
   - Select "Install Ubuntu alongside [your OS]"
   - Follow installation wizard
   - Reboot when complete

**Resources:**
- Ubuntu dual-boot guide: https://help.ubuntu.com/community/WindowsDualBoot

---

## ‚úÖ Verification Steps

### Check Your Ubuntu Version

Open terminal (Ctrl+Alt+T) and run:
```bash
lsb_release -a
```

**Expected output:**
```
Distributor ID: Ubuntu
Description:    Ubuntu 22.04.x LTS
Release:        22.04
Codename:       jammy
```

‚úÖ **Success:** Shows Ubuntu 22.04  
‚ùå **Wrong version:** Need to install Ubuntu 22.04

---

### Check System Resources

**Check RAM:**
```bash
free -h
```

**Look for line:** `Mem:` shows total RAM  
‚úÖ **Success:** Shows 8GB or more  
‚ö†Ô∏è **Warning:** Less than 8GB will be slow

**Check CPU:**
```bash
lscpu | grep -E "^CPU\(s\)|Model name"
```

‚úÖ **Success:** Shows 4+ CPUs  
‚ö†Ô∏è **Warning:** Fewer cores will be slower

**Check Disk Space:**
```bash
df -h /
```

**Look for:** `/` filesystem  
‚úÖ **Success:** 30GB+ available  
‚ùå **Insufficient:** Free up space before continuing

---

### Test Internet Connection
```bash
ping -c 4 google.com
```

**Expected output:** Shows response times (e.g., "time=15.2 ms")  
‚úÖ **Success:** Receives 4 packets  
‚ùå **Fail:** Check your network connection

---

### Update System

**Important:** Do this now to avoid issues later.
```bash
sudo apt update
sudo apt upgrade -y
```

**This will take:** 5-15 minutes depending on updates

**When complete:**
```bash
sudo reboot
```

---

## üìù Pre-Flight Checklist

Before moving to next section, verify:

- [ ] ‚úÖ Ubuntu 22.04 LTS installed and running
- [ ] ‚úÖ System meets minimum requirements (8GB RAM, 4 cores, 30GB space)
- [ ] ‚úÖ Internet connection working
- [ ] ‚úÖ System fully updated (`apt update && apt upgrade`)
- [ ] ‚úÖ Comfortable opening terminal (Ctrl+Alt+T)
- [ ] ‚úÖ Realistic time expectations set
- [ ] ‚úÖ Ready to learn patiently

**All checked?** You're ready to proceed! üöÄ

---

## üéØ What You Accomplished

- ‚úÖ Understood hardware and software requirements
- ‚úÖ Installed Ubuntu 22.04 (if needed)
- ‚úÖ Verified system meets requirements
- ‚úÖ Updated system to latest packages
- ‚úÖ Set realistic expectations for journey ahead

---

## üöÄ Next Steps

Continue to **[1.2 Environment Setup](1.2-environment-setup.md)** where we'll:
- Configure your terminal for efficiency
- Install essential development tools
- Setup your workspace directory structure
- Prepare your system for ArduPilot SITL

---

## ‚ùì Common Questions

### Q: Can I use Ubuntu in WSL2 (Windows Subsystem for Linux)?

**A:** Not recommended. WSL2 has issues with:
- USB device access (needed later for flight controller)
- GUI applications (Gazebo, RViz need 3D graphics)
- Real-time performance

Use VM or dual-boot instead.

### Q: I have Ubuntu 20.04, do I need to upgrade?

**A:** Yes. ROS2 Foxy (for Ubuntu 20.04) reached end-of-life. This tutorial uses ROS2 Humble which requires Ubuntu 22.04.

### Q: Can I use a more powerful computer for better performance?

**A:** Absolutely! More RAM and CPU cores = smoother Gazebo simulation and faster builds.

### Q: Will this work on Ubuntu 24.04?

**A:** Not yet. Wait for ROS2 Jazzy to mature and for ArduPilot to officially support it. Stick with 22.04 for now.

### Q: I'm stuck on installation. Where can I get help?

**A:** 
1. Check Ubuntu installation guides: https://ubuntu.com/tutorials/install-ubuntu-desktop
2. Search our issues: https://github.com/simtofly/simtofly-guide/issues
3. Open new issue with your specific problem

---

## üêõ Troubleshooting

### Virtual Machine is Very Slow

**Solutions:**
1. Allocate more RAM (8GB ‚Üí 12GB if possible)
2. Allocate more CPU cores (2 ‚Üí 4+ if available)
3. Enable 3D acceleration in VM settings
4. Close other applications on host machine
5. Consider dual-boot for better performance

### Ubuntu Won't Boot After Dual-Boot Install

**Solutions:**
1. Check BIOS boot order (Ubuntu should be first)
2. Repair GRUB bootloader (search: "repair grub ubuntu")
3. If stuck, seek help on Ubuntu forums

### System Requirements Not Met

**Solutions:**
1. **Low RAM:** Add more RAM to computer, or use lighter VM settings
2. **Low disk space:** Free up space, uninstall unused programs
3. **Slow CPU:** Be patient, or consider upgrading hardware
4. **No dedicated GPU:** Gazebo will work, just slower

---

[‚Üê Back to Phase 1 Overview](README.md) | [Next: 1.2 Environment Setup ‚Üí](1.2-environment-setup.md)
