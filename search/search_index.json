{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"SimToFly - Drone Autonomy Guide","text":"<p>From Simulation to Flight</p> <p>Complete tutorials for autonomous drones with ROS2 and ArduPilot.</p> <p>Start Phase 1 \u2192 View on GitHub</p>"},{"location":"#overview","title":"Overview","text":"<p>Learn autonomous drone development from simulation to real hardware using modern robotics tools.</p> <p>What you'll learn: - ArduPilot SITL simulation and Gazebo Harmonic 3D visualization - ROS2 integration with MAVROS for advanced control - Companion computer setup on Raspberry Pi - Complete hardware deployment and real flight testing</p> <p>Who this is for: - Beginners with no prior ROS or ArduPilot experience - Students learning autonomous drone systems - Developers building drone applications - Hobbyists transitioning from simulation to hardware</p>"},{"location":"#tutorial-phases","title":"Tutorial Phases","text":""},{"location":"#phase-1-simulation-mastery","title":"Phase 1: Simulation Mastery","text":"<p>Master drone fundamentals in safe virtual environment.</p> <p>Content: - Prerequisites and environment setup - ArduPilot SITL installation - MAVProxy command-line control - Gazebo Harmonic 3D simulation - First autonomous waypoint mission</p> <p>Status: \u2705 Complete Time: 6-8 hours Start: Phase 1 Overview</p>"},{"location":"#phase-2-ros2-integration","title":"Phase 2: ROS2 Integration","text":"<p>Connect ArduPilot to Robot Operating System.</p> <p>Content: - ROS2 Humble installation - MAVROS setup and configuration - Topics, services, and messages - Custom ROS2 control nodes - Autonomous missions via ROS2</p> <p>Status: \ud83d\udea7 In Development Expected: February 2026</p>"},{"location":"#phase-3-companion-computer","title":"Phase 3: Companion Computer","text":"<p>Deploy ROS2 on Raspberry Pi for onboard processing.</p> <p>Content: - Raspberry Pi configuration - Serial connection to flight controller - ROS2 node deployment - Hardware-in-the-loop testing - Network communication</p> <p>Status: \ud83d\udccb Planned Expected: March 2026</p>"},{"location":"#phase-4-real-hardware","title":"Phase 4: Real Hardware","text":"<p>Deploy complete system on actual drone.</p> <p>Content: - Hardware assembly and wiring - Pre-flight safety procedures - Ground testing - First real flight test - Complete mission deployment</p> <p>Status: \ud83d\udccb Planned Expected: April 2026</p>"},{"location":"#technology-stack","title":"Technology Stack","text":"Category Tools Simulation ArduPilot SITL, Gazebo Harmonic, MAVProxy Middleware ROS2 Humble, MAVROS Hardware Pixhawk/Cube Orange, Raspberry Pi 4 Development Ubuntu 22.04 LTS, Python 3, Git"},{"location":"#verified-system","title":"Verified System","text":"<p>All tutorials tested on real hardware:</p> <p>Software: - Ubuntu 22.04 LTS - ArduPilot Copter 4.5.7 - ROS2 Humble - Gazebo Harmonic - MAVProxy 1.8+</p> <p>Hardware (Phase 4): - Flight Controller: Cube Orange / Pixhawk 6X - Companion Computer: Raspberry Pi 4 (4GB+)</p> <p>Last verified: December 2025</p>"},{"location":"#getting-started","title":"Getting Started","text":"<p>Prerequisites</p> <p>Before starting, ensure you have:</p> <ul> <li>Ubuntu 22.04 LTS (native or VM)</li> <li>8GB RAM minimum (16GB recommended)</li> <li>30GB free disk space</li> <li>Basic terminal familiarity</li> </ul> <p>No prior ROS or ArduPilot experience required.</p> <p>Quick Start:</p> <ol> <li>Check Prerequisites</li> <li>Set up Environment</li> <li>Follow Phase 1 Overview</li> </ol> <p>Begin Phase 1 Now \u2192</p>"},{"location":"#features","title":"Features","text":"<p>Beginner-Friendly: - Assumes zero prior knowledge - Step-by-step instructions with verification - Comprehensive troubleshooting sections - Video demonstrations for complex procedures</p> <p>Complete Workflow: - Covers simulation through real hardware - Modern stack (ROS2, not ROS1) - Verified on actual drones - Safety-first approach</p> <p>Actively Maintained: - Regular updates and improvements - Community-driven development - Responsive issue tracking - New content added regularly</p>"},{"location":"#community-support","title":"Community &amp; Support","text":""},{"location":"#get-help","title":"Get Help","text":"<ul> <li>Questions: GitHub Discussions</li> <li>Bug Reports: GitHub Issues</li> <li>Live Chat: Coming soon</li> </ul>"},{"location":"#contribute","title":"Contribute","text":"<p>We welcome contributions:</p> <ul> <li>Report bugs or errors</li> <li>Suggest improvements</li> <li>Submit pull requests</li> <li>Share your projects</li> <li>Help other learners</li> </ul> <p>Contributing Guidelines</p>"},{"location":"#stay-connected","title":"Stay Connected","text":"<ul> <li>\u2b50 Star on GitHub</li> <li>Watch for updates</li> <li>Follow @sidharthmohannair</li> </ul>"},{"location":"#about","title":"About","text":"<p>Author: Sidharth Mohan Nair</p> <p>Mission: Make drone autonomy accessible to everyone, from complete beginners to experienced developers.</p> <p>Project Goals: - Provide complete learning path from simulation to hardware - Use modern, industry-standard tools - Verify all content on real hardware - Maintain beginner-friendly approach - Build active learning community</p> <p>License: MIT \u2014 Free to use for personal and commercial projects</p>"},{"location":"#acknowledgments","title":"Acknowledgments","text":"<p>Built with knowledge from:</p> <ul> <li>ArduPilot community</li> <li>ROS2 documentation</li> <li>MAVROS project</li> <li>Open-source robotics community</li> </ul> <p>Special thanks to everyone who contributes to open-source drone software.</p> <p> Ready to begin? Start Your Drone Autonomy Journey \u2192 </p>"},{"location":"appendix/terminal-customization/","title":"Appendix: Terminal Customization (Optional)","text":"<p>Optional terminal enhancements for advanced users.</p> <p>Note: These customizations are NOT required for SimToFly tutorials. Only apply if you want to personalize your terminal experience.</p>"},{"location":"appendix/terminal-customization/#enable-color-prompt","title":"Enable Color Prompt","text":"<pre><code>sed -i 's/#force_color_prompt=yes/force_color_prompt=yes/' ~/.bashrc\nsource ~/.bashrc\n</code></pre> <p>Result: Terminal prompt shows colors.</p>"},{"location":"appendix/terminal-customization/#add-useful-aliases","title":"Add Useful Aliases","text":"<pre><code>nano ~/.bashrc\n</code></pre> <p>Add at bottom: <pre><code># Useful aliases\nalias ll='ls -lah'\nalias update='sudo apt update &amp;&amp; sudo apt upgrade -y'\nalias workspace='cd ~/simtofly_ws'\n</code></pre></p> <p>Save, then: <pre><code>source ~/.bashrc\n</code></pre></p>"},{"location":"appendix/terminal-customization/#increase-terminal-history","title":"Increase Terminal History","text":"<pre><code>echo 'HISTSIZE=10000' &gt;&gt; ~/.bashrc\necho 'HISTFILESIZE=20000' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre> <p>Saves last 10,000 commands instead of default 500.</p>"},{"location":"appendix/terminal-customization/#show-git-branch-in-prompt","title":"Show Git Branch in Prompt","text":"<pre><code>nano ~/.bashrc\n</code></pre> <p>Add at bottom: <pre><code># Show git branch in prompt\nparse_git_branch() {\n    git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/(\\1)/'\n}\nexport PS1=\"\\u@\\h:\\w\\$(parse_git_branch)\\$ \"\n</code></pre></p> <p>Save, then: <pre><code>source ~/.bashrc\n</code></pre></p> <p>\u2190 Back to 1.2 Environment Setup</p>"},{"location":"appendix/ubuntu-install/","title":"Appendix: Ubuntu 22.04 Installation Guide","text":"<p>Complete guide for installing Ubuntu 22.04 LTS for SimToFly tutorials.</p> <p>Choose your installation method:</p> <ul> <li>Virtual Machine (Recommended for Beginners)</li> <li>Dual Boot (Better Performance)</li> <li>Native Installation (Best Performance)</li> </ul>"},{"location":"appendix/ubuntu-install/#virtual-machine-installation","title":"Virtual Machine Installation","text":"<p>Best for: Beginners, trying before committing, keeping current OS</p> <p>Pros:</p> <ul> <li>Safe - doesn't modify your current system</li> <li>Easy to snapshot and restore</li> <li>Can run alongside Windows/macOS</li> <li>Easy to delete if you change your mind</li> </ul> <p>Cons:</p> <ul> <li>Slower performance (especially Gazebo)</li> <li>Requires powerful host computer</li> <li>Shared resources with host OS</li> </ul>"},{"location":"appendix/ubuntu-install/#step-1-install-virtualbox","title":"Step 1: Install VirtualBox","text":"<p>Download VirtualBox:</p> <ul> <li>Visit: https://www.virtualbox.org/wiki/Downloads</li> <li>Download for your OS (Windows, macOS, or Linux)</li> <li>Install VirtualBox</li> </ul> <p>Verify installation:</p> <ul> <li>Open VirtualBox</li> <li>Should see main window with no VMs</li> </ul>"},{"location":"appendix/ubuntu-install/#step-2-download-ubuntu-2204-iso","title":"Step 2: Download Ubuntu 22.04 ISO","text":"<p>Download:</p> <ul> <li>Visit: https://ubuntu.com/download/desktop</li> <li>Click \"Download Ubuntu 22.04.x LTS\"</li> <li>Save ISO file (~4GB download)</li> </ul> <p>File name: <code>ubuntu-22.04.x-desktop-amd64.iso</code></p>"},{"location":"appendix/ubuntu-install/#step-3-create-virtual-machine","title":"Step 3: Create Virtual Machine","text":"<p>In VirtualBox, click \"New\":</p> <p>Basic settings: <pre><code>Name: SimToFly-Ubuntu\nType: Linux\nVersion: Ubuntu (64-bit)\n</code></pre></p> <p>Memory (RAM): <pre><code>Minimum: 8192 MB (8 GB)\nRecommended: 12288 MB (12 GB) if host has 16GB+\n</code></pre></p> <p>Hard disk: <pre><code>\u2611 Create a virtual hard disk now\nClick \"Create\"\n</code></pre></p> <p>Disk settings: <pre><code>File size: 50 GB minimum (80 GB recommended)\nHard disk file type: VDI (VirtualBox Disk Image)\nStorage: Dynamically allocated\n</code></pre></p> <p>Click \"Create\"</p>"},{"location":"appendix/ubuntu-install/#step-4-configure-vm-settings","title":"Step 4: Configure VM Settings","text":"<p>Before starting VM, adjust settings:</p> <p>Right-click VM \u2192 Settings</p> <p>System: <pre><code>Motherboard tab:\n  Base Memory: 8192 MB (or more)\n  Boot Order: Hard Disk first, Optical second\n\nProcessor tab:\n  Processors: 4 CPUs minimum (6-8 if available)\n  \u2611 Enable PAE/NX\n</code></pre></p> <p>Display: <pre><code>Screen tab:\n  Video Memory: 128 MB (maximum)\n  \u2611 Enable 3D Acceleration\n</code></pre></p> <p>Storage: <pre><code>Click \"Empty\" under Controller: IDE\nClick disk icon on right \u2192 \"Choose a disk file\"\nSelect downloaded Ubuntu ISO\n</code></pre></p> <p>Network: <pre><code>Adapter 1:\n  \u2611 Enable Network Adapter\n  Attached to: NAT (or Bridged Adapter for better performance)\n</code></pre></p> <p>Click \"OK\"</p>"},{"location":"appendix/ubuntu-install/#step-5-install-ubuntu","title":"Step 5: Install Ubuntu","text":"<p>Start VM:</p> <ul> <li>Select VM \u2192 Click \"Start\"</li> <li>VM boots from Ubuntu ISO</li> </ul> <p>Ubuntu installer:</p> <ol> <li>Language: Select English (or your language)</li> <li>Install Ubuntu: Click \"Install Ubuntu\"</li> <li>Keyboard layout: Select your layout</li> <li> <p>Updates: </p> </li> <li> <p>\u2611 Normal installation</p> </li> <li>\u2611 Download updates while installing</li> <li> <p>\u2611 Install third-party software</p> </li> <li> <p>Installation type: </p> </li> <li>\u2611 Erase disk and install Ubuntu (safe - only affects VM disk)</li> <li>Time zone: Select your location</li> <li> <p>User setup:</p> </li> <li> <p>Your name: (your name)</p> </li> <li>Computer name: simtofly-vm</li> <li>Username: (your username)</li> <li>Password: (create strong password)</li> <li>\u2611 Require password to log in</li> </ol> <p>Installation takes: 15-30 minutes</p> <p>Restart when prompted</p>"},{"location":"appendix/ubuntu-install/#step-6-install-guest-additions","title":"Step 6: Install Guest Additions","text":"<p>After Ubuntu boots:</p> <p>VirtualBox menu \u2192 Devices \u2192 Insert Guest Additions CD</p> <p>In Ubuntu terminal: <pre><code>sudo apt update\nsudo apt install build-essential dkms linux-headers-$(uname -r)\nsudo mkdir /media/cdrom\nsudo mount /dev/cdrom /media/cdrom\ncd /media/cdrom\nsudo ./VBoxLinuxAdditions.run\n</code></pre></p> <p>Reboot: <pre><code>sudo reboot\n</code></pre></p> <p>Benefits:</p> <ul> <li>Better screen resolution</li> <li>Shared clipboard</li> <li>Drag and drop files</li> <li>Better mouse integration</li> </ul>"},{"location":"appendix/ubuntu-install/#step-7-take-snapshot","title":"Step 7: Take Snapshot","text":"<p>Before starting tutorials:</p> <p>VM menu \u2192 Machine \u2192 Take Snapshot <pre><code>Name: Fresh Ubuntu Install\nDescription: Clean Ubuntu 22.04 before SimToFly setup\n</code></pre></p> <p>Why? If something breaks, restore to this point.</p>"},{"location":"appendix/ubuntu-install/#vm-performance-tips","title":"VM Performance Tips","text":"<p>If VM is slow:</p> <ol> <li> <p>Allocate more resources:</p> </li> <li> <p>More RAM (if host allows)</p> </li> <li>More CPU cores</li> <li> <p>More video memory</p> </li> <li> <p>Enable 3D acceleration:</p> </li> <li> <p>Settings \u2192 Display \u2192 Enable 3D Acceleration</p> </li> <li> <p>Use SSD for VM:</p> </li> <li> <p>Store VM on SSD, not HDD</p> </li> <li> <p>Close other applications:</p> </li> <li> <p>On host OS while running VM</p> </li> <li> <p>Disable visual effects in Ubuntu: <pre><code>   sudo apt install gnome-tweaks\n   gnome-tweaks\n   # Disable animations\n</code></pre></p> </li> </ol>"},{"location":"appendix/ubuntu-install/#dual-boot-installation","title":"Dual Boot Installation","text":"<p>Best for: Users wanting better performance while keeping current OS</p> <p>Pros:</p> <ul> <li>Full hardware performance</li> <li>Native GPU acceleration</li> <li>Better Gazebo performance</li> <li>Keep existing OS</li> </ul> <p>Cons: - Requires disk partitioning (some risk) - More complex setup</p> <p>\u26a0\ufe0f Warning: Back up important data before proceeding!</p>"},{"location":"appendix/ubuntu-install/#prerequisites","title":"Prerequisites","text":"<p>Before starting:</p> <ul> <li> Back up all important data</li> <li> 50GB+ free disk space</li> <li> USB drive (8GB+)</li> <li> Stable power (laptop: plug in charger)</li> <li> BIOS/UEFI access knowledge</li> </ul>"},{"location":"appendix/ubuntu-install/#step-1-create-ubuntu-usb","title":"Step 1: Create Ubuntu USB","text":"<p>On Windows:</p> <ol> <li>Download Rufus: https://rufus.ie/</li> <li>Insert USB drive (will be erased!)</li> <li>Open Rufus</li> <li>Select your USB drive</li> <li>Select Ubuntu ISO</li> <li>Click \"Start\"</li> <li>Wait for completion (~5-10 minutes)</li> </ol> <p>On macOS/Linux:</p> <ol> <li>Download Etcher: https://etcher.balena.io/</li> <li>Insert USB drive</li> <li>Select Ubuntu ISO</li> <li>Select USB drive</li> <li>Flash!</li> </ol>"},{"location":"appendix/ubuntu-install/#step-2-free-up-disk-space","title":"Step 2: Free Up Disk Space","text":"<p>Windows:</p> <ol> <li>Open \"Disk Management\" (search in Start menu)</li> <li>Right-click your largest partition (usually C:)</li> <li>Select \"Shrink Volume\"</li> <li>Shrink by: 50000 MB (50 GB) or more</li> <li>Click \"Shrink\"</li> <li>Should see \"Unallocated\" space</li> </ol> <p>macOS:</p> <ol> <li>Open \"Disk Utility\"</li> <li>Select main disk</li> <li>Click \"Partition\"</li> <li>Add partition: 50GB+ for Ubuntu</li> <li>Format: Free Space</li> <li>Apply</li> </ol>"},{"location":"appendix/ubuntu-install/#step-3-boot-from-usb","title":"Step 3: Boot from USB","text":"<p>Enter BIOS/UEFI:</p> <ul> <li>Restart computer</li> <li>Press key during startup:</li> <li>Dell/HP: F2 or F12</li> <li>Lenovo: F1 or F2</li> <li>ASUS: F2 or Del</li> <li>Acer: F2 or Del</li> </ul> <p>Change boot order:</p> <ol> <li>Find \"Boot\" menu</li> <li>Move USB drive to top</li> <li>Save and exit (usually F10)</li> </ol> <p>Computer boots from USB:</p> <ul> <li>Shows Ubuntu logo</li> <li>Select \"Try or Install Ubuntu\"</li> </ul>"},{"location":"appendix/ubuntu-install/#step-4-install-ubuntu","title":"Step 4: Install Ubuntu","text":"<p>Important: Choose \"Install Ubuntu alongside [Windows/macOS]\"</p> <p>Installation steps:</p> <ol> <li>Language: English</li> <li>Install Ubuntu: Click Install</li> <li>Keyboard: Select layout</li> <li> <p>Updates: </p> </li> <li> <p>Normal installation</p> </li> <li>Download updates</li> <li>Install third-party software</li> <li> <p>Installation type:</p> </li> <li> <p>\u2611 Install Ubuntu alongside [your OS] \u2190 Important!</p> </li> <li>Ubuntu will use free space created earlier</li> <li>Review partition changes</li> <li>Time zone: Select location</li> <li> <p>User setup:</p> </li> <li> <p>Name, username, password</p> </li> <li>Computer name: simtofly</li> </ol> <p>Installation: 15-30 minutes</p> <p>Restart when complete</p>"},{"location":"appendix/ubuntu-install/#step-5-configure-bootloader","title":"Step 5: Configure Bootloader","text":"<p>After reboot:</p> <ul> <li>Should see GRUB menu</li> <li>Options: Ubuntu, Windows (or macOS)</li> <li>Default: Ubuntu</li> </ul> <p>To change default OS: <pre><code>sudo nano /etc/default/grub\n</code></pre></p> <p>Change: <pre><code>GRUB_DEFAULT=0    # Ubuntu\n# or\nGRUB_DEFAULT=2    # Windows (usually)\n</code></pre></p> <p>Update: <pre><code>sudo update-grub\n</code></pre></p>"},{"location":"appendix/ubuntu-install/#step-6-verify-both-os-work","title":"Step 6: Verify Both OS Work","text":"<p>Test Ubuntu:</p> <ul> <li>Boot into Ubuntu</li> <li>Verify everything works</li> </ul> <p>Test other OS:</p> <ul> <li>Reboot \u2192 Select Windows/macOS from GRUB</li> <li>Verify it still works</li> </ul> <p>\u2705 Both work? Dual boot successful!</p>"},{"location":"appendix/ubuntu-install/#dual-boot-tips","title":"Dual Boot Tips","text":"<p>Switch between OS:</p> <ul> <li>Restart \u2192 Choose from GRUB menu</li> <li>Default selection after 10 seconds</li> </ul> <p>If GRUB doesn't show: <pre><code># In Ubuntu:\nsudo update-grub\n</code></pre></p> <p>If Windows doesn't appear: <pre><code># In Ubuntu:\nsudo os-prober\nsudo update-grub\n</code></pre></p>"},{"location":"appendix/ubuntu-install/#native-installation","title":"Native Installation","text":"<p>Best for: Dedicated machine for drone development, best performance</p> <p>Pros:</p> <ul> <li>Maximum performance</li> <li>Full hardware access</li> <li>No compromises</li> <li>Best for serious development</li> </ul> <p>Cons:</p> <ul> <li>Erases existing OS</li> <li>Requires dedicated hardware</li> </ul> <p>Use this if:</p> <ul> <li>You have spare computer</li> <li>You don't need Windows/macOS on this machine</li> <li>You want best performance</li> </ul>"},{"location":"appendix/ubuntu-install/#installation-steps","title":"Installation Steps","text":"<p>Same as dual-boot, but:</p> <p>At \"Installation type\":</p> <ul> <li>Choose: \"Erase disk and install Ubuntu\"</li> <li>Warning: This deletes everything on disk!</li> </ul> <p>Make absolutely sure:</p> <ul> <li>You backed up important data</li> <li>You selected correct disk (if multiple disks)</li> <li>You're okay losing current OS</li> </ul> <p>Otherwise: Same as dual-boot installation above</p>"},{"location":"appendix/ubuntu-install/#verify-installation","title":"\u2705 Verify Installation","text":"<p>After installing Ubuntu (any method), verify:</p> <p>Ubuntu version: <pre><code>lsb_release -a\n</code></pre> Should show: Ubuntu 22.04.x LTS</p> <p>System resources: <pre><code># RAM\nfree -h\n\n# CPU\nlscpu | grep \"CPU(s)\"\n\n# Disk space\ndf -h /\n</code></pre></p> <p>Internet: <pre><code>ping -c 3 google.com\n</code></pre></p> <p>Graphics (if VM): <pre><code>glxinfo | grep \"OpenGL\"\n</code></pre></p> <p>All working? \u2705 Ready for Phase 1!</p>"},{"location":"appendix/ubuntu-install/#common-issues","title":"Common Issues","text":""},{"location":"appendix/ubuntu-install/#virtualbox-vt-x-is-not-available","title":"VirtualBox: \"VT-x is not available\"","text":"<p>Cause: Virtualization disabled in BIOS</p> <p>Solution:</p> <ol> <li>Restart computer \u2192 Enter BIOS</li> <li>Find \"Virtualization Technology\" or \"VT-x\" or \"AMD-V\"</li> <li>Enable it</li> <li>Save and exit BIOS</li> <li>Try VirtualBox again</li> </ol>"},{"location":"appendix/ubuntu-install/#dual-boot-grub-not-showing","title":"Dual Boot: GRUB not showing","text":"<p>Cause: GRUB didn't install properly</p> <p>Solution: Boot Ubuntu USB \u2192 Try Ubuntu \u2192 Open terminal: <pre><code>sudo add-apt-repository ppa:yannubuntu/boot-repair\nsudo apt update\nsudo apt install boot-repair\nboot-repair\n</code></pre> Follow prompts.</p>"},{"location":"appendix/ubuntu-install/#dual-boot-windows-wont-boot","title":"Dual Boot: Windows won't boot","text":"<p>Cause: GRUB installed over Windows bootloader</p> <p>Solution:</p> <ol> <li>Use Boot Repair (above)</li> <li>Or: Boot from Windows recovery USB</li> <li>Run: <code>bootrec /fixmbr</code> and <code>bootrec /fixboot</code></li> <li>Reinstall GRUB from Ubuntu live USB</li> </ol>"},{"location":"appendix/ubuntu-install/#screen-resolution-wrong-in-vm","title":"Screen resolution wrong in VM","text":"<p>Cause: Guest Additions not installed</p> <p>Solution: Install Guest Additions (see VM Step 6 above)</p>"},{"location":"appendix/ubuntu-install/#ubuntu-installer-crashes","title":"Ubuntu installer crashes","text":"<p>Cause: Bad ISO or USB</p> <p>Solution:</p> <ol> <li>Verify ISO checksum</li> <li>Re-download ISO</li> <li>Re-flash USB drive</li> <li>Try different USB drive</li> </ol>"},{"location":"appendix/ubuntu-install/#additional-resources","title":"Additional Resources","text":"<p>Official Ubuntu Guides:</p> <ul> <li>Installation: https://ubuntu.com/tutorials/install-ubuntu-desktop</li> <li>Dual boot Windows: https://help.ubuntu.com/community/WindowsDualBoot</li> <li>VirtualBox: https://www.virtualbox.org/manual/</li> </ul> <p>Video Tutorials:</p> <ul> <li>Search YouTube: \"Install Ubuntu 22.04\"</li> <li>Filter: Last year</li> </ul> <p>Community Help:</p> <ul> <li>Ubuntu Forums: https://ubuntuforums.org/</li> <li>Ask Ubuntu: https://askubuntu.com/</li> </ul>"},{"location":"appendix/ubuntu-install/#quick-decision-guide","title":"Quick Decision Guide","text":"<p>Choose installation method:</p> <pre><code>Do you have spare computer?\n  YES \u2192 Native installation (best performance)\n  NO \u2193\n\nAre you comfortable with disk partitioning?\n  YES \u2192 Dual boot (good performance + keep current OS)\n  NO \u2193\n\nIs your computer powerful? (16GB+ RAM, 8+ cores)\n  YES \u2192 Virtual Machine (safe + easy)\n  NO \u2192 Consider dual boot or upgrade hardware\n</code></pre> <p>\u2190 Back to Prerequisites | Continue to 1.2 Environment Setup \u2192</p>"},{"location":"phase-1-simulation/","title":"Phase 1: Simulation Mastery","text":"<p>Master autonomous drone fundamentals in a safe, virtual environment.</p>"},{"location":"phase-1-simulation/#overview","title":"Overview","text":"<p>In Phase 1, you'll learn:</p> <ul> <li>Setup complete simulation environment</li> <li>Understand ArduPilot SITL</li> <li>Control drones via command line</li> <li>Visualize in Gazebo 3D simulator</li> <li>Run your first autonomous mission</li> </ul> <p>No hardware needed \u2014 everything runs on your computer.</p> <p></p> <p>Time: 4-6 hours total (spread over multiple sessions)</p>"},{"location":"phase-1-simulation/#prerequisites","title":"Prerequisites","text":"<p>Before starting Phase 1:</p> <ul> <li> Ubuntu 22.04 installed (native or VM)</li> <li> 8GB RAM minimum (16GB recommended)</li> <li> 25GB free disk space</li> <li> Stable internet connection</li> <li> Basic terminal/command-line comfort</li> </ul> <p>Never used terminal? That's okay \u2014 we'll teach you as we go.</p>"},{"location":"phase-1-simulation/#tutorial-sections","title":"Tutorial Sections","text":"<p>Follow these in order:</p>"},{"location":"phase-1-simulation/#11-prerequisites-and-setup","title":"1.1 Prerequisites and Setup","text":"<ul> <li>Check system requirements</li> <li>Understand what you'll need</li> <li>Setup your workspace</li> </ul> <p>Time: 15 minutes</p>"},{"location":"phase-1-simulation/#12-environment-setup","title":"1.2 Environment Setup","text":"<ul> <li>Update Ubuntu system</li> <li>Install basic dependencies</li> <li>Configure your terminal</li> </ul> <p>Time: 30 minutes</p>"},{"location":"phase-1-simulation/#13-ardupilot-sitl-installation","title":"1.3 ArduPilot SITL Installation","text":"<ul> <li>What is SITL and why use it</li> <li>Download and install ArduPilot</li> <li>Launch your first virtual drone</li> </ul> <p>Time: 45 minutes</p>"},{"location":"phase-1-simulation/#14-mavproxy-command-line","title":"1.4 MAVProxy Command Line","text":"<ul> <li>Control drone via commands</li> <li>Understand flight modes</li> <li>Arm, takeoff, and land</li> </ul> <p>Time: 1 hour</p>"},{"location":"phase-1-simulation/#15-gazebo-simulation","title":"1.5 Gazebo Simulation","text":"<ul> <li>Install Gazebo Garden</li> <li>Integrate with ArduPilot</li> <li>Visualize your drone in 3D</li> </ul> <p>Time: 1 hour</p>"},{"location":"phase-1-simulation/#16-first-autonomous-mission","title":"1.6 First Autonomous Mission","text":"<ul> <li>Plan a waypoint mission</li> <li>Execute autonomous flight</li> <li>Analyze logs</li> </ul> <p>Time: 1 hour</p>"},{"location":"phase-1-simulation/#success-criteria","title":"Success Criteria","text":"<p>By the end of Phase 1, you will:</p> <ul> <li>Have working SITL + Gazebo simulation</li> <li>Understand basic ArduPilot concepts</li> <li>Successfully fly autonomous missions in simulation</li> <li>Feel confident proceeding to ROS2 integration</li> </ul>"},{"location":"phase-1-simulation/#ready-to-start","title":"Ready to Start?","text":"<p>Begin with 1.1 Prerequisites and Setup</p>"},{"location":"phase-1-simulation/#need-help","title":"Need Help?","text":"<p>If you get stuck: 1. Check the troubleshooting section in each tutorial 2. Search existing issues 3. Open a new issue with:    - Which section you're on    - What command failed    - Error message (full text)    - Your Ubuntu version</p> <p>We're here to help! </p> <p>\u2190 Back to Home | Next: 1.1 Prerequisites \u2192</p>"},{"location":"phase-1-simulation/1.1-prerequisites/","title":"1.1 Prerequisites and Setup","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#what-youll-learn","title":"What You'll Learn","text":"<p>Before diving into drone simulation, we'll make sure you have:</p> <ul> <li>The right computer (hardware specifications)</li> <li>The right software (Ubuntu 22.04)</li> <li>Understanding of time commitment</li> <li>Proper expectations for the journey ahead</li> </ul> <p>This ensures a smooth learning experience without technical roadblocks.</p> <p>Time: 15-20 minutes reading + setup time (if needed)</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#hardware-requirements","title":"Hardware Requirements","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#minimum-requirements","title":"Minimum Requirements","text":"<p>Your computer needs at least:</p> Component Minimum Recommended Why? OS Ubuntu 22.04 Ubuntu 22.04 native ArduPilot SITL runs on Linux CPU 4 cores, 2.0 GHz 8 cores, 3.0 GHz+ Gazebo simulation is CPU-intensive RAM 8 GB 16 GB+ Gazebo + ROS2 + SITL use memory Storage 30 GB free 50 GB+ free ArduPilot, ROS2, Gazebo, logs GPU Integrated graphics Dedicated GPU Better Gazebo visualization Internet Stable connection High-speed Downloading packages"},{"location":"phase-1-simulation/1.1-prerequisites/#can-i-use-windows-or-macos","title":"Can I Use Windows or macOS?","text":"<p>Short answer: Use Ubuntu 22.04 (VM, dual-boot, or native).</p> <p>Why Ubuntu 22.04 specifically? - ArduPilot officially supports Ubuntu - ROS2 Humble targets Ubuntu 22.04 LTS - All our instructions tested on this version - Strongest community support</p> <p>Don't have Ubuntu 22.04? See Appendix: Ubuntu Installation for detailed setup guides (VM, dual-boot, or native).</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#software-requirements","title":"Software Requirements","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#operating-system","title":"Operating System","text":"<p>Required: Ubuntu 22.04 LTS (Jammy Jellyfish)</p> <p>Download: https://ubuntu.com/download/desktop</p> <p>Why this specific version? - LTS (Long Term Support) \u2014 Stable, supported until 2027 - ROS2 Humble officially supports it - ArduPilot SITL tested and documented for it - This tutorial verified on this version</p> <p>Important: </p> <ul> <li>\u274c Don't use Ubuntu 20.04 (ROS2 Foxy is end-of-life)</li> <li>\u274c Don't use Ubuntu 24.04 (too new, compatibility issues)</li> <li>\u274c Other Linux distros (different package managers, untested)</li> </ul> <p>Need help installing Ubuntu? See Appendix: Ubuntu Installation for step-by-step guides.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#software-well-install-later-sections","title":"Software We'll Install (Later Sections)","text":"<p>Don't install these now \u2014 we'll do it step-by-step together:</p> <p>Phase 1 (Simulation): - ArduPilot SITL (Software In The Loop simulator) - MAVProxy (Command-line ground control) - Gazebo Harmonic (3D physics simulator)</p> <p>Phase 2 (ROS2 Integration): - ROS2 Humble (Robot Operating System) - MAVROS (MAVLink \u2194 ROS2 bridge) - RViz (ROS visualization tool)</p> <p>Total download size: ~10-15 GB Total disk space after install: ~25-30 GB</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#time-commitment","title":"Time Commitment","text":"<p>Be realistic about time investment to avoid frustration:</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#phase-1-simulation-this-phase","title":"Phase 1: Simulation (This Phase)","text":"<p>Estimated: 6-8 hours total</p> <p>Spread over multiple sessions \u2014 don't rush! Understanding matters more than speed. Each section builds on previous ones.</p> <p>Suggested pace: - Week 1: Sections 1.1-1.3 (environment + SITL) - Week 2: Sections 1.4-1.6 (control + Gazebo + missions)</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#full-tutorial-all-4-phases","title":"Full Tutorial (All 4 Phases)","text":"<p>Estimated: 40-60 hours total</p> <ul> <li>Phase 1: 6-8 hours (simulation)</li> <li>Phase 2: 12-16 hours (ROS2 integration)</li> <li>Phase 3: 8-12 hours (companion computer)</li> <li>Phase 4: 12-16 hours (real hardware)</li> </ul> <p>This assumes: - Following tutorials carefully - Doing all verification steps - Some troubleshooting time - Not including hardware assembly</p> <p>Take your time. Quality learning beats speed.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#knowledge-prerequisites","title":"Knowledge Prerequisites","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#what-you-dont-need-to-know","title":"What You DON'T Need to Know","text":"<p>You don't need prior experience with:</p> <ul> <li>ROS or ROS2</li> <li>ArduPilot or flight controllers</li> <li>Drone building or flying</li> <li>Advanced programming</li> </ul> <p>We teach all of this from scratch.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#what-helps-but-not-required","title":"What Helps (But Not Required)","text":"<p>Nice to have, but we'll teach as we go: - Basic Linux terminal commands (<code>cd</code>, <code>ls</code>, <code>mkdir</code>) - Basic Python reading (not writing complex code) - Understanding of 3D coordinates (x, y, z) - Patience and willingness to troubleshoot</p> <p>Never used Linux terminal? That's okay! We explain every command.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#essential-mindset","title":"Essential Mindset","text":"<p>What you DO need:</p> <ul> <li>Patience to follow step-by-step instructions</li> <li>Attention to detail (typos break things)</li> <li>Willingness to read error messages (they tell you what's wrong)</li> <li>Comfort with trial and error (part of learning)</li> <li>Safety-first attitude (especially for Phase 4 with real hardware)</li> </ul> <p>Approach: Treat this as a journey, not a race. Every expert was once a beginner.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#tools-youll-need","title":"Tools You'll Need","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#for-phase-1-now","title":"For Phase 1 (Now)","text":"<p>You need right now:</p> <ul> <li> Computer meeting hardware requirements</li> <li> Ubuntu 22.04 installed</li> <li> Text editor (gedit, nano, or VS Code)</li> <li> Terminal application (built into Ubuntu)</li> <li> Stable internet connection</li> </ul> <p>That's it for now! Everything else we'll install together in upcoming sections.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#for-later-phases","title":"For Later Phases","text":"<p>Don't buy hardware yet! Complete Phases 1-2 in simulation first.</p> <p>Phase 3 (Companion Computer): - Raspberry Pi 4 (4GB+ RAM recommended) - MicroSD card (32GB+) - USB cable or network connection</p> <p>Phase 4 (Real Hardware): - Flight controller (Pixhawk/Cube Orange) - Drone frame and components - RC transmitter and receiver - Battery and charger - Safety equipment - Open outdoor space for testing</p> <p>We'll provide detailed lists when you reach those phases.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#verification-steps","title":"\u2705 Verification Steps","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#check-your-ubuntu-version","title":"Check Your Ubuntu Version","text":"<p>Open terminal (Ctrl+Alt+T) and run: <pre><code>lsb_release -a\n</code></pre></p> <p>Expected output: <pre><code>Distributor ID: Ubuntu\nDescription:    Ubuntu 22.04.x LTS\nRelease:        22.04\nCodename:       jammy\n</code></pre></p> <p>\u2705 Success: Shows Ubuntu 22.04 \u274c Wrong version: Install Ubuntu 22.04 before continuing</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#check-system-resources","title":"Check System Resources","text":"<p>Check RAM: <pre><code>free -h\n</code></pre></p> <p>Look for: <code>Mem:</code> line shows total RAM \u2705 Success: Shows 8GB or more \u26a0\ufe0f Warning: Less than 8GB will be slow</p> <p>Check CPU: <pre><code>lscpu | grep -E \"^CPU\\(s\\)|Model name\"\n</code></pre></p> <p>\u2705 Success: Shows 4+ CPUs \u26a0\ufe0f Warning: Fewer cores will be slower</p> <p>Check Disk Space: <pre><code>df -h /\n</code></pre></p> <p>Look for: <code>/</code> filesystem available space \u2705 Success: 30GB+ available \u274c Insufficient: Free up space before continuing</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#test-internet-connection","title":"Test Internet Connection","text":"<pre><code>ping -c 4 google.com\n</code></pre> <p>Expected output: Shows response times (e.g., \"time=15.2 ms\") \u2705 Success: Receives 4 packets \u274c Fail: Check your network connection</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#pre-flight-checklist","title":"Pre-Flight Checklist","text":"<p>Before moving to next section, verify:</p> <ul> <li> Ubuntu 22.04 LTS installed and running</li> <li> System meets minimum requirements (8GB RAM, 4 cores, 30GB space)</li> <li> Internet connection working</li> <li> Comfortable opening terminal (Ctrl+Alt+T)</li> <li> Realistic time expectations set</li> <li> Ready to learn patiently</li> </ul> <p>All checked? You're ready to proceed! </p>"},{"location":"phase-1-simulation/1.1-prerequisites/#what-you-accomplished","title":"What You Accomplished","text":"<ul> <li>\u2705 Understood hardware and software requirements</li> <li>\u2705 Confirmed Ubuntu 22.04 is installed (or know how to install it)</li> <li>\u2705 Verified system meets requirements</li> <li>\u2705 Set realistic expectations for journey ahead</li> <li>\u2705 Prepared mindset for learning</li> </ul>"},{"location":"phase-1-simulation/1.1-prerequisites/#next-steps","title":"Next Steps","text":"<p>Continue to 1.2 Environment Setup where we'll: - Update your system to latest packages - Install essential development tools - Configure your terminal (optional) - Setup your workspace directory structure - Prepare your system for ArduPilot SITL</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#q-can-i-use-ubuntu-in-wsl2-windows-subsystem-for-linux","title":"Q: Can I use Ubuntu in WSL2 (Windows Subsystem for Linux)?","text":"<p>A: Not recommended. WSL2 has issues with: - USB device access (needed later for flight controller) - GUI applications (Gazebo, RViz need 3D graphics) - Real-time performance</p> <p>Use VM or dual-boot instead.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#q-i-have-ubuntu-2004-do-i-need-to-upgrade","title":"Q: I have Ubuntu 20.04, do I need to upgrade?","text":"<p>A: Yes. ROS2 Foxy (for Ubuntu 20.04) reached end-of-life. This tutorial uses ROS2 Humble which requires Ubuntu 22.04.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#q-can-i-use-a-more-powerful-computer-for-better-performance","title":"Q: Can I use a more powerful computer for better performance?","text":"<p>A: Absolutely! More RAM and CPU cores = smoother Gazebo simulation and faster builds. Recommended specs will give you the best experience.</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#q-will-this-work-on-ubuntu-2404","title":"Q: Will this work on Ubuntu 24.04?","text":"<p>A: Not yet. Wait for ROS2 Jazzy to mature and ArduPilot to officially support it. Stick with Ubuntu 22.04 for now (LTS until 2027).</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#q-im-stuck-on-installation-where-can-i-get-help","title":"Q: I'm stuck on installation. Where can I get help?","text":"<p>A:  1. Check Appendix: Ubuntu Installation for detailed guides 2. Search Ubuntu installation guides: https://ubuntu.com/tutorials/install-ubuntu-desktop 3. Search our issues: https://github.com/simtofly/simtofly-guide/issues 4. Open new issue with your specific problem</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#troubleshooting","title":"Troubleshooting","text":""},{"location":"phase-1-simulation/1.1-prerequisites/#virtual-machine-is-very-slow","title":"Virtual Machine is Very Slow","text":"<p>Solutions: 1. Allocate more RAM (8GB \u2192 12GB if host allows) 2. Allocate more CPU cores (2 \u2192 4+ if available) 3. Enable 3D acceleration in VM settings 4. Close other applications on host machine 5. Consider dual-boot for better performance</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#ubuntu-wont-boot-after-dual-boot-install","title":"Ubuntu Won't Boot After Dual-Boot Install","text":"<p>Solutions: 1. Check BIOS boot order (Ubuntu should be first) 2. Repair GRUB bootloader (search: \"repair grub ubuntu\") 3. If stuck, seek help on Ubuntu forums with your specific setup</p>"},{"location":"phase-1-simulation/1.1-prerequisites/#system-requirements-not-met","title":"System Requirements Not Met","text":"<p>Solutions: 1. Low RAM: Add more RAM to computer, or use lighter VM settings 2. Low disk space: Free up space, uninstall unused programs 3. Slow CPU: Be patient, or consider upgrading hardware 4. No dedicated GPU: Gazebo will work, just slower</p> <p>\u2190 Back to Phase 1 Overview | Next: 1.2 Environment Setup \u2192</p>"},{"location":"phase-1-simulation/1.2-environment-setup/","title":"1.2 Environment Setup","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#what-youll-learn","title":"What You'll Learn","text":"<p>Prepare your Ubuntu system for drone development:</p> <ul> <li>Update system to latest packages</li> <li>Install essential development tools</li> <li>Create organized workspace structure  </li> <li>Verify everything is ready for ArduPilot SITL</li> </ul> <p>Time: 15-20 minutes</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you must have completed:</p> <ul> <li>\u2705 1.1 Prerequisites and Setup</li> <li>\u2705 Ubuntu 22.04 LTS installed and booted</li> <li>\u2705 Internet connection working</li> <li>\u2705 System meets minimum requirements</li> </ul>"},{"location":"phase-1-simulation/1.2-environment-setup/#update-your-system","title":"Update Your System","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#why-update-first","title":"Why Update First?","text":"<p>Before installing anything, ensure your system has: - Latest security patches - Updated package repositories - Bug fixes and improvements</p> <p>This prevents compatibility issues later.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#update-commands","title":"Update Commands","text":"<p>Open terminal (Ctrl+Alt+T) and run: <pre><code>sudo apt update\n</code></pre></p> <p>What this does: Updates the list of available packages and versions.</p> <p>Expected output: <pre><code>Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease\nGet:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]\n...\nReading package lists... Done\n</code></pre></p> <p>\u2705 Success: No errors, shows \"Reading package lists... Done\"</p> <p>Now upgrade installed packages: <pre><code>sudo apt upgrade -y\n</code></pre></p> <p>What this does: Downloads and installs updates.</p> <p>This takes: 5-15 minutes depending on pending updates.</p> <p>Expected output: <pre><code>Reading package lists... Done\nBuilding dependency tree... Done\n...\nThe following packages will be upgraded:\n  [list of packages]\n...\nSetting up [package names]...\n</code></pre></p> <p>\u2705 Success: Completes without errors</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#clean-up","title":"Clean Up","text":"<p>Remove unnecessary packages: <pre><code>sudo apt autoremove -y\nsudo apt autoclean\n</code></pre></p> <p>What this does: Frees disk space by removing unused packages.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#reboot-important","title":"Reboot (Important!)","text":"<pre><code>sudo reboot\n</code></pre> <p>Why reboot? Kernel updates require restart to take effect.</p> <p>After reboot: Open terminal again and continue.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#install-essential-development-tools","title":"Install Essential Development Tools","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#install-required-packages","title":"Install Required Packages","text":"<p>ArduPilot and ROS2 need these tools: <pre><code>sudo apt install -y \\\n    build-essential \\\n    git \\\n    python3 \\\n    python3-pip \\\n    python3-dev \\\n    curl \\\n    wget \\\n    nano \\\n    net-tools \\\n    tree\n</code></pre></p> <p>What these are: - <code>build-essential</code> \u2014 C/C++ compiler (for building ArduPilot) - <code>git</code> \u2014 Version control (to clone ArduPilot) - <code>python3</code> \u2014 Python runtime (ArduPilot SITL uses Python) - <code>python3-pip</code> \u2014 Python package installer - <code>python3-dev</code> \u2014 Python development headers - <code>curl</code>, <code>wget</code> \u2014 Download files from internet - <code>nano</code> \u2014 Simple text editor - <code>net-tools</code> \u2014 Network diagnostics - <code>tree</code> \u2014 Directory structure visualization</p> <p>This takes: 2-5 minutes</p> <p>Expected output: <pre><code>Reading package lists... Done\nBuilding dependency tree... Done\n...\nSetting up build-essential...\nSetting up git...\n...\n</code></pre></p> <p>\u2705 Success: All packages installed without errors</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#verify-installation","title":"Verify Installation","text":"<pre><code>gcc --version\ngit --version\npython3 --version\npip3 --version\ntree --version\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>gcc (Ubuntu 11.x.x) ...\ngit version 2.34.x\nPython 3.10.x\npip 22.x.x from ...\ntree v1.8.x\n</code></pre> <p>\u2705 Success: All tools show version numbers</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#create-workspace-structure","title":"\ud83d\udcc1 Create Workspace Structure","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#why-organized-workspace","title":"Why Organized Workspace?","text":"<p>Having a clear structure prevents: - Files scattered everywhere - Forgetting where you saved things - Conflicts between different projects</p> <p>All SimToFly work will be in one place: <code>~/simtofly_ws/</code></p>"},{"location":"phase-1-simulation/1.2-environment-setup/#create-main-workspace","title":"Create Main Workspace","text":"<pre><code>mkdir -p ~/simtofly_ws\ncd ~/simtofly_ws\n</code></pre> <p>What this creates: Main folder for all SimToFly work.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#create-subdirectories","title":"Create Subdirectories","text":"<pre><code>mkdir -p logs missions scripts ros2_ws\n</code></pre> <p>What each folder is for: - <code>logs/</code> \u2014 Flight logs and telemetry data - <code>missions/</code> \u2014 Mission files and waypoints - <code>scripts/</code> \u2014 Helper scripts and tools - <code>ros2_ws/</code> \u2014 ROS2 workspace (Phase 2)</p> <p>Note: We'll create the <code>ardupilot/</code> folder in Section 1.3 when we clone ArduPilot repository.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#verify-structure","title":"Verify Structure","text":"<pre><code>tree -L 1 ~/simtofly_ws\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>/home/your-username/simtofly_ws\n\u251c\u2500\u2500 logs\n\u251c\u2500\u2500 missions\n\u251c\u2500\u2500 ros2_ws\n\u2514\u2500\u2500 scripts\n\n4 directories, 0 files\n</code></pre> <p>\u2705 Success: Four directories created</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#add-workspace-environment-variable","title":"Add Workspace Environment Variable","text":"<p>Make it easy to access workspace from anywhere: <pre><code>echo 'export SIMTOFLY_WS=~/simtofly_ws' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></p> <p>What this does: Creates a shortcut variable to your workspace.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#test-workspace-variable","title":"Test Workspace Variable","text":"<pre><code>echo $SIMTOFLY_WS\ncd $SIMTOFLY_WS\npwd\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>/home/your-username/simtofly_ws\n</code></pre> <p>\u2705 Success: Can access workspace via <code>$SIMTOFLY_WS</code></p>"},{"location":"phase-1-simulation/1.2-environment-setup/#system-check-and-verification","title":"System Check and Verification","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#create-verification-script","title":"Create Verification Script","text":"<p>Let's create a script to check everything is ready: <pre><code>nano ~/simtofly_ws/scripts/check_environment.sh\n</code></pre></p> <p>Paste this script: <pre><code>#!/bin/bash\n\necho \"==========================================\"\necho \"SimToFly Environment Check\"\necho \"==========================================\"\necho \"\"\n\n# Check Ubuntu version\necho \"Checking Ubuntu version...\"\nif lsb_release -d | grep -q \"22.04\"; then\n    echo \"\u2705 Ubuntu 22.04 detected\"\nelse\n    echo \"\u274c Wrong Ubuntu version. Need 22.04\"\n    lsb_release -d\nfi\necho \"\"\n\n# Check disk space\necho \"Checking disk space...\"\nAVAILABLE=$(df -BG / | tail -1 | awk '{print $4}' | sed 's/G//')\nif [ \"$AVAILABLE\" -gt 30 ]; then\n    echo \"\u2705 Sufficient disk space: ${AVAILABLE}GB available\"\nelse\n    echo \"\u26a0\ufe0f Low disk space: ${AVAILABLE}GB available (need 30GB+)\"\nfi\necho \"\"\n\n# Check RAM\necho \"Checking RAM...\"\nTOTAL_RAM=$(free -g | awk '/^Mem:/{print $2}')\nif [ \"$TOTAL_RAM\" -ge 7 ]; then\n    echo \"\u2705 Sufficient RAM: ${TOTAL_RAM}GB\"\nelse\n    echo \"\u26a0\ufe0f Low RAM: ${TOTAL_RAM}GB (recommended 8GB+)\"\nfi\necho \"\"\n\n# Check essential tools\necho \"Checking essential tools...\"\nTOOLS=(\"gcc\" \"g++\" \"make\" \"git\" \"python3\" \"pip3\" \"tree\")\nfor tool in \"${TOOLS[@]}\"; do\n    if command -v $tool &amp;&gt; /dev/null; then\n        echo \"\u2705 $tool installed\"\n    else\n        echo \"\u274c $tool NOT installed\"\n    fi\ndone\necho \"\"\n\n# Check workspace structure\necho \"Checking workspace structure...\"\nDIRS=(\"logs\" \"missions\" \"scripts\" \"ros2_ws\")\nfor dir in \"${DIRS[@]}\"; do\n    if [ -d \"$HOME/simtofly_ws/$dir\" ]; then\n        echo \"\u2705 $dir directory exists\"\n    else\n        echo \"\u274c $dir directory missing\"\n    fi\ndone\necho \"\"\n\n# Check internet\necho \"Checking internet connection...\"\nif ping -c 1 google.com &amp;&gt; /dev/null; then\n    echo \"\u2705 Internet connection working\"\nelse\n    echo \"\u274c No internet connection\"\nfi\necho \"\"\n\necho \"==========================================\"\necho \"Environment check complete!\"\necho \"==========================================\"\n</code></pre></p> <p>Save and exit: Ctrl+X, then Y, then Enter</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#make-script-executable","title":"Make Script Executable","text":"<pre><code>chmod +x ~/simtofly_ws/scripts/check_environment.sh\n</code></pre>"},{"location":"phase-1-simulation/1.2-environment-setup/#run-verification","title":"Run Verification","text":"<pre><code>~/simtofly_ws/scripts/check_environment.sh\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>==========================================\nSimToFly Environment Check\n==========================================\n\nChecking Ubuntu version...\n\u2705 Ubuntu 22.04 detected\n\nChecking disk space...\n\u2705 Sufficient disk space: 45GB available\n\nChecking RAM...\n\u2705 Sufficient RAM: 8GB\n\nChecking essential tools...\n\u2705 gcc installed\n\u2705 g++ installed\n\u2705 make installed\n\u2705 git installed\n\u2705 python3 installed\n\u2705 pip3 installed\n\u2705 tree installed\n\nChecking workspace structure...\n\u2705 logs directory exists\n\u2705 missions directory exists\n\u2705 scripts directory exists\n\u2705 ros2_ws directory exists\n\nChecking internet connection...\n\u2705 Internet connection working\n\n==========================================\nEnvironment check complete!\n==========================================\n</code></pre> <p>\u2705 All checks pass: Your environment is ready!</p> <p>\u26a0\ufe0f Some checks fail: Review and fix issues before continuing.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#final-checklist","title":"Final Checklist","text":"<p>Before moving to next section, verify:</p> <ul> <li> System fully updated (<code>apt update &amp;&amp; upgrade</code>)</li> <li> Rebooted after updates</li> <li> Essential tools installed (gcc, git, python3, tree)</li> <li> Workspace structure created (<code>~/simtofly_ws/</code>)</li> <li> Verification script runs successfully</li> <li> All checks in verification script pass</li> </ul> <p>All checked? You're ready for ArduPilot SITL! </p>"},{"location":"phase-1-simulation/1.2-environment-setup/#what-you-accomplished","title":"What You Accomplished","text":"<ul> <li>\u2705 Updated Ubuntu to latest packages</li> <li>\u2705 Installed development tools (gcc, git, python3)</li> <li>\u2705 Created organized workspace structure</li> <li>\u2705 Set up workspace environment variable</li> <li>\u2705 Created verification script for future checks</li> <li>\u2705 Verified environment is ready</li> </ul> <p>Your system is now ready for ArduPilot SITL installation!</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#next-steps","title":"Next Steps","text":"<p>Continue to 1.3 ArduPilot SITL Installation where we'll: - Clone ArduPilot source code - Install ArduPilot dependencies - Build SITL simulator - Launch your first virtual drone - Test basic commands</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#q-do-i-need-to-run-the-verification-script-every-time","title":"Q: Do I need to run the verification script every time?","text":"<p>A: No, just once now to confirm setup. Run it again only if something breaks later.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#q-can-i-use-a-different-workspace-location","title":"Q: Can I use a different workspace location?","text":"<p>A: Yes, but stick with <code>~/simtofly_ws/</code> for consistency with this tutorial. If you change it, you'll need to adapt all commands.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#q-the-update-took-very-long-is-this-normal","title":"Q: The update took very long, is this normal?","text":"<p>A: Yes, first update after fresh Ubuntu install can take 15-30 minutes depending on internet speed and pending updates.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#q-i-got-errors-during-apt-upgrade-what-do-i-do","title":"Q: I got errors during <code>apt upgrade</code>, what do I do?","text":"<p>A: Read the error message carefully. Common fixes: - Run <code>sudo apt --fix-broken install</code> - Try <code>sudo dpkg --configure -a</code> - Reboot and try again - Search the specific error online</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#q-why-dont-we-create-the-ardupilot-folder-here","title":"Q: Why don't we create the ardupilot folder here?","text":"<p>A: We'll clone ArduPilot directly in Section 1.3, which automatically creates the <code>ardupilot/</code> directory. Creating it now would cause confusion with nested paths.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"phase-1-simulation/1.2-environment-setup/#unable-to-locate-package-errors","title":"\"Unable to locate package\" errors","text":"<p>Cause: Package repositories not updated</p> <p>Solution: <pre><code>sudo apt update\nsudo apt install -y [package-name]\n</code></pre></p>"},{"location":"phase-1-simulation/1.2-environment-setup/#permission-denied-when-creating-directories","title":"\"Permission denied\" when creating directories","text":"<p>Cause: Trying to create in protected location</p> <p>Solution: Make sure you're creating in your home directory (<code>~/</code>), not system directories like <code>/opt/</code> or <code>/usr/</code>.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#verification-script-shows-command-not-found","title":"Verification script shows \"command not found\"","text":"<p>Cause: Script doesn't have execute permission</p> <p>Solution: <pre><code>chmod +x ~/simtofly_ws/scripts/check_environment.sh\n</code></pre></p>"},{"location":"phase-1-simulation/1.2-environment-setup/#terminal-changes-dont-apply","title":"Terminal changes don't apply","text":"<p>Cause: Didn't reload bashrc</p> <p>Solution: <pre><code>source ~/.bashrc\n</code></pre></p> <p>Or close and reopen terminal.</p>"},{"location":"phase-1-simulation/1.2-environment-setup/#some-packages-fail-to-install","title":"Some packages fail to install","text":"<p>Cause: Broken dependencies or repository issues</p> <p>Solution: <pre><code>sudo apt --fix-broken install\nsudo apt update\nsudo apt install -y [package-names]\n</code></pre></p> <p>\u2190 Back: 1.1 Prerequisites | Next: 1.3 ArduPilot SITL \u2192</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/","title":"1.3 ArduPilot SITL Installation","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#what-youll-learn","title":"What You'll Learn","text":"<p>Install and launch your first virtual drone:</p> <ul> <li>What SITL is and why we use it</li> <li>Clone ArduPilot source code</li> <li>Install ArduPilot dependencies</li> <li>Build SITL simulator</li> <li>Launch your first virtual drone</li> <li>Verify SITL works correctly</li> </ul> <p>Time: 45-60 minutes</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you must have completed:</p> <ul> <li>\u2705 1.1 Prerequisites and Setup</li> <li>\u2705 1.2 Environment Setup</li> <li>\u2705 Workspace created at <code>~/simtofly_ws/</code></li> <li>\u2705 Internet connection working</li> </ul>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#what-is-sitl","title":"What is SITL?","text":"<p>SITL = Software In The Loop</p> <p>Think of SITL as a virtual drone that runs entirely on your computer: - No physical hardware needed - Same ArduPilot firmware as real drone - Safe to crash and experiment - Perfect for testing code before real flights</p> <p>Why start with SITL? - Learn without risk of damaging hardware - Test missions before flying - Develop code in safety - Everything you learn transfers to real drones</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#how-sitl-works","title":"How SITL Works","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#clone-ardupilot-repository","title":"Clone ArduPilot Repository","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#navigate-to-workspace","title":"Navigate to Workspace","text":"<pre><code>cd ~/simtofly_ws/\n</code></pre>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#clone-ardupilot-source","title":"Clone ArduPilot Source","text":"<pre><code>git clone https://github.com/ArduPilot/ardupilot.git\ncd ardupilot\n</code></pre> <p>What this does: Downloads ArduPilot source code to your computer.</p> <p>This takes: 2-5 minutes depending on internet speed.</p> <p>Expected output: <pre><code>Cloning into 'ardupilot'...\nremote: Enumerating objects: xxxxx, done.\nremote: Counting objects: 100% (xxxxx/xxxxx), done.\n...\nResolving deltas: 100% (xxxxx/xxxxx), done.\n</code></pre></p> <p>\u2705 Success: Clone completes without errors</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#verify-clone","title":"Verify Clone","text":"<pre><code>cd ~/simtofly_ws/ardupilot/\nls\n</code></pre> <p>Expected output: You should see directories like:</p> <p></p> <pre><code>ArduCopter  ArduPlane  ArduSub  libraries  Tools  ...\n</code></pre> <p>\u2705 Success: ArduPilot directories visible</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#install-ardupilot-dependencies","title":"Install ArduPilot Dependencies","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#run-installation-script","title":"Run Installation Script","text":"<p>ArduPilot provides a script that installs everything needed:</p> <pre><code>cd ~/simtofly_ws/ardupilot/\nTools/environment_install/install-prereqs-ubuntu.sh -y\n</code></pre> <p>What this does: Installs compilers, libraries, and tools ArduPilot needs.</p> <p>This takes: 10-20 minutes (downloads ~2GB of packages).</p> <p>Expected output:</p> <p></p> <pre><code>---------- Installing prerequisites for SITL ----------\n...\nInstalling packages...\n...\nFinished installing prerequisites\n</code></pre> <p>\u2705 Success: Script completes with \"Finished installing prerequisites\"</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#reload-your-profile","title":"Reload Your Profile","text":"<p>The installation script modifies your environment. Reload it: <pre><code>. ~/.profile\n</code></pre></p> <p>Alternative (same result): <pre><code>source ~/.profile\n</code></pre></p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#initialize-submodules","title":"Initialize Submodules","text":"<p>ArduPilot uses additional code libraries called submodules.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#configure-git-for-submodules-if-needed","title":"\u26a0\ufe0f Configure Git for Submodules (If Needed)","text":"<p>Most users can skip this step. Only needed if you have git protocol issues or are behind a firewall.</p> <p>** \u26a0\ufe0f If submodule update fails in the next step, come back here and run: \u26a0\ufe0f**</p> <pre><code>git config --global url.https://.insteadOf git://\n</code></pre> <p>Then retry the submodule update command.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#checkout-stable-version","title":"Checkout Stable Version","text":"<p>We'll use ArduCopter 4.5.7 (current stable as of December 2025): <pre><code>cd ~/simtofly_ws/ardupilot/\ngit checkout Copter-4.5.7\n</code></pre></p> <p>Expected output:</p> <p></p> <pre><code>Note: switching to 'Copter-4.5.7'.\n...\nHEAD is now at xxxxxxx ArduCopter: release 4.5.7\n</code></pre> <p>\u2705 Success: Switched to Copter-4.5.7</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#update-submodules","title":"Update Submodules","text":"<pre><code>git submodule update --init --recursive\n</code></pre> <p>What this does: Downloads additional required libraries.</p> <p>This takes: 5-10 minutes.</p> <p>Expected output: <pre><code>Submodule 'modules/xxx' registered for path 'modules/xxx'\n...\nCloning into '/home/.../ardupilot/modules/xxx'...\n...\nSubmodule path 'modules/xxx': checked out 'xxxxxx'\n</code></pre></p> <p>\u2705 Success: All submodules initialized without errors</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#first-sitl-launch","title":"First SITL Launch","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#initial-parameter-setup","title":"Initial Parameter Setup","text":"<p>The first time you run SITL, it needs to set default parameters: <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter\nsim_vehicle.py -w\n</code></pre></p> <p>Important flags:</p> <ul> <li><code>-w</code> = Wipe parameters and start fresh</li> </ul> <p>What this does: </p> <ul> <li>Builds SITL for the first time</li> <li>Sets default ArduCopter parameters</li> <li>Creates configuration files</li> </ul> <p>This takes: 2-5 minutes (first build is slow).</p> <p>Expected output:</p> <pre><code>Building ArduCopter...\n...\nConfiguring for SITL...\n...\nInit ArduCopter V4.5.7\n...\nReceived 500 parameters\n...\n</code></pre> <p>Wait until you see: <code>Received XXX parameters</code> (where XXX is around 500-600)</p> <p>Then: Press Ctrl+C to exit</p> <p>\u2705 Success: Parameters received, SITL built successfully</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#verify-sim_vehiclepy-is-accessible","title":"Verify sim_vehicle.py is Accessible","text":"<p>The installation should have added sim_vehicle.py to your PATH. Verify: <pre><code>which sim_vehicle.py\n</code></pre></p> <p>Expected output: <pre><code>/home/your-username/simtofly_ws/ardupilot/Tools/autotest/sim_vehicle.py\n</code></pre></p> <p>If command not found: <pre><code>echo 'export PATH=$PATH:$HOME/simtofly_ws/ardupilot/Tools/autotest' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#test-sitl-launch","title":"\u2705 Test SITL Launch","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#launch-sitl-simulator","title":"Launch SITL Simulator","text":"<p>Now let's launch SITL properly: <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter\nsim_vehicle.py -v ArduCopter\n</code></pre></p> <p>What this does: Starts ArduCopter SITL simulator.</p> <p>Expected output:</p> <p></p> <pre><code>Starting SITL...\nWaiting for heartbeat from 127.0.0.1:5760\n...\nInit ArduCopter V4.5.7 (xxxxxxx)\n...\nAPM: ArduCopter V4.5.7\n...\nReceived 500 parameters\n</code></pre> <p>You should see a prompt: <pre><code>STABILIZE&gt;\n</code></pre></p> <p>\u2705 Success: SITL is running, you're in STABILIZE mode</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#test-basic-commands","title":"Test Basic Commands","text":"<p>At the <code>STABILIZE&gt;</code> prompt, try these commands:</p> <p>Check mode: <pre><code>mode GUIDED\n</code></pre></p> <p>Expected response: <pre><code>GUIDED&gt; \n</code></pre></p> <p>Arm the motors: <pre><code>arm throttle\n</code></pre></p> <p>Expected response: <pre><code>ARMED\n</code></pre></p> <p>Disarm: <pre><code>disarm\n</code></pre></p> <p>Expected response: <pre><code>DISARMED\n</code></pre></p> <p></p> <p>\u2705 Success: Commands work, SITL responds</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#exit-sitl","title":"Exit SITL","text":"<p>To stop SITL, press: <pre><code>Ctrl+C\n</code></pre></p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#verification-checklist","title":"Verification Checklist","text":"<p>Before moving to next section, verify:</p> <ul> <li> ArduPilot cloned to <code>~/simtofly_ws/ardupilot/</code></li> <li> Dependencies installed (install-prereqs script completed)</li> <li> Submodules initialized (no errors)</li> <li> Checked out Copter-4.5.7</li> <li> First launch with <code>-w</code> flag completed</li> <li> <code>sim_vehicle.py</code> accessible from terminal</li> <li> SITL launches and shows <code>STABILIZE&gt;</code> prompt</li> <li> Can change modes (GUIDED works)</li> <li> Can arm/disarm vehicle</li> </ul> <p>All checked? Your SITL is ready!</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#what-you-accomplished","title":"What You Accomplished","text":"<ul> <li>\u2705 Downloaded ArduPilot source code</li> <li>\u2705 Installed all required dependencies</li> <li>\u2705 Built SITL from source</li> <li>\u2705 Launched your first virtual drone</li> <li>\u2705 Tested basic commands (mode, arm, disarm)</li> <li>\u2705 Verified SITL installation works</li> </ul>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#next-steps","title":"Next Steps","text":"<p>Continue to 1.4 MAVProxy Command Line where we'll:</p> <ul> <li>Understand flight modes</li> <li>Control drone via commands</li> <li>Perform takeoff and landing</li> <li>Navigate with basic movements</li> </ul>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#q-why-copter-457-specifically","title":"Q: Why Copter-4.5.7 specifically?","text":"<p>A: This is the latest stable release as of December 2025. It's well-tested and widely used. You can use newer versions when they're released, but this tutorial is verified with 4.5.7.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#q-can-i-use-a-different-vehicle-type","title":"Q: Can I use a different vehicle type?","text":"<p>A: Yes! ArduPilot supports:</p> <ul> <li><code>ArduCopter</code> \u2014 Multirotor drones (what we use)</li> <li><code>ArduPlane</code> \u2014 Fixed-wing aircraft</li> <li><code>ArduSub</code> \u2014 Underwater vehicles</li> <li><code>Rover</code> \u2014 Ground vehicles</li> </ul> <p>Replace <code>ArduCopter</code> with your vehicle type in commands.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#q-whats-the-difference-between-w-and-normal-launch","title":"Q: What's the difference between <code>-w</code> and normal launch?","text":"<p>A: </p> <ul> <li><code>-w</code> flag: Wipes parameters, sets defaults (use first time only)</li> <li>Normal launch: Uses saved parameters (use after first time)</li> </ul>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#q-do-i-need-to-be-in-arducopter-directory-to-launch","title":"Q: Do I need to be in ArduCopter directory to launch?","text":"<p>A: No, if <code>sim_vehicle.py</code> is in your PATH. But starting there is good practice.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#q-how-much-disk-space-does-ardupilot-use","title":"Q: How much disk space does ArduPilot use?","text":"<p>A: </p> <ul> <li>Source code: ~2 GB</li> <li>Built SITL: ~3 GB</li> <li>Total: ~5 GB</li> </ul>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#troubleshooting","title":"Troubleshooting","text":""},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#error-command-not-found-sim_vehiclepy","title":"Error: \"command not found: sim_vehicle.py\"","text":"<p>Cause: sim_vehicle.py not in PATH</p> <p>Solution: <pre><code>echo 'export PATH=$PATH:$HOME/simtofly_ws/ardupilot/Tools/autotest' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></p> <p>Then try launching again.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#error-failed-to-download-submodules","title":"Error: \"Failed to download submodules\"","text":"<p>Cause: Network issues or git protocol blocked</p> <p>Solution: <pre><code>git config --global url.https://.insteadOf git://\ngit submodule update --init --recursive\n</code></pre></p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#error-building-failed-or-compiler-errors","title":"Error: \"Building failed\" or compiler errors","text":"<p>Cause: Missing dependencies</p> <p>Solution: <pre><code>cd ~/simtofly_ws/ardupilot/ardupilot\nTools/environment_install/install-prereqs-ubuntu.sh -y\n. ~/.profile\n</code></pre></p> <p>Then try building again.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#error-no-module-named-pymavlink","title":"Error: \"No module named 'pymavlink'\"","text":"<p>Cause: Python dependencies not installed</p> <p>Solution: <pre><code>pip3 install --user pymavlink MAVProxy\n</code></pre></p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#sitl-launches-but-no-received-parameters-message","title":"SITL launches but no \"Received parameters\" message","text":"<p>Cause: First launch without <code>-w</code> flag</p> <p>Solution: <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter\nsim_vehicle.py -w\n</code></pre></p> <p>Wait for parameters, then Ctrl+C and relaunch normally.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#permission-denied-errors-during-installation","title":"\"Permission denied\" errors during installation","text":"<p>Cause: Trying to install in system directories</p> <p>Solution: Make sure you're in <code>~/simtofly_ws/</code> (your home directory), not <code>/opt/</code> or <code>/usr/</code>.</p>"},{"location":"phase-1-simulation/1.3-ardupilot-sitl/#build-is-very-slow","title":"Build is very slow","text":"<p>Cause: Limited CPU cores or running in VM</p> <p>Solution:</p> <ul> <li>Be patient (first build takes time)</li> <li>Close other applications</li> <li>Subsequent builds will be faster</li> <li>Consider native Ubuntu instead of VM for better performance</li> </ul> <p>\u2190 Back: 1.2 Environment Setup | Next: 1.4 MAVProxy Basics \u2192</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/","title":"1.4 MAVProxy Command Line Control","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#what-youll-learn","title":"What You'll Learn","text":"<p>Master basic drone control through MAVProxy command line:</p> <ul> <li>What MAVProxy is and why we use it</li> <li>Launch SITL with map and console</li> <li>Understand flight modes</li> <li>Arm and disarm the vehicle</li> <li>Perform takeoff and landing</li> <li>Basic navigation using map</li> <li>Monitor telemetry data</li> </ul> <p>Time: 60-90 minutes</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you must have completed:</p> <ul> <li>\u2705 1.1 Prerequisites and Setup</li> <li>\u2705 1.2 Environment Setup</li> <li>\u2705 1.3 ArduPilot SITL Installation</li> <li>\u2705 SITL launches successfully</li> <li>\u2705 Can arm/disarm vehicle</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#what-is-mavproxy","title":"What is MAVProxy?","text":"<p>MAVProxy = MAVLink Proxy and Command Shell</p> <p>It's a command-line ground control station that lets you:</p> <ul> <li>Control drone through typed commands</li> <li>Monitor telemetry in real-time</li> <li>Load and execute missions</li> <li>Visualize drone position on map</li> </ul> <p>Why MAVProxy?</p> <ul> <li>Lightweight and fast</li> <li>Perfect for learning fundamentals</li> <li>Scriptable and automatable</li> <li>Works over SSH (no GUI needed)</li> </ul> <p>Later we'll use: ROS2 for advanced control, but MAVProxy teaches the basics.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#what-is-mavlink","title":"What is MAVLink?","text":"<p>MAVLink (Micro Air Vehicle Link) is the communication protocol that allows ground control stations to talk to drones.</p> <p>Think of it as the language spoken between your computer and the flight controller:</p> Component Role MAVLink The language/protocol (defines message formats) MAVProxy The translator (sends/receives MAVLink messages) SITL The drone brain (understands MAVLink commands) <p>What MAVLink handles:</p> <ul> <li>Telemetry: GPS position, altitude, battery, attitude</li> <li>Commands: Arm, disarm, takeoff, land, mode changes</li> <li>Missions: Upload/download waypoint files</li> <li>Parameters: Read/write flight controller settings</li> </ul> <p>In this tutorial:</p> <p>You won't write MAVLink messages directly. MAVProxy handles that for you. When you type <code>arm throttle</code>, MAVProxy converts it to the appropriate MAVLink message and sends it to SITL.</p> <p>Later in Phase 2: MAVROS will bridge MAVLink to ROS2, letting you control drones programmatically with Python/C++.</p> <p>Reference: Full MAVLink specification at mavlink.io</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#launch-sitl-with-map-and-console","title":"Launch SITL with Map and Console","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#basic-sitl-launch-with-visualization","title":"Basic SITL Launch with Visualization","text":"<p>Instead of just text output, let's open map and console windows: <pre><code>sim_vehicle.py -v ArduCopter --map --console\n</code></pre></p> <p>Note: We can run <code>sim_vehicle.py</code> from any directory because we added it to PATH in Section 1.3.</p> <p>Command breakdown: - <code>-v ArduCopter</code> \u2014 Vehicle type (multirotor) - <code>--map</code> \u2014 Opens map window - <code>--console</code> \u2014 Opens console window</p> <p>This takes: 10-20 seconds to launch all windows.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#expected-windows","title":"Expected Windows","text":"<p>Four windows will open:</p> Window Name Purpose Top-Left MAVProxy 2D Map Shows drone position on satellite/terrain map with grid overlay Top-Right SITL Main Terminal Command input (MAVProxy prompt), system messages Bottom-Left MAVProxy Console Real-time telemetry (GPS, altitude, speed, battery, flight mode) Bottom-Right ArduCopter Console ArduCopter initialization messages and system logs <p></p> <p>\u2705 Success: All four windows open, see <code>STABILIZE&gt;</code> prompt in main terminal</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#understanding-the-windows","title":"Understanding the Windows","text":"<p>SITL Main Terminal (Top-Right): <pre><code>STABILIZE&gt; \n</code></pre> - Purpose: Enter commands here - Shows: MAVProxy prompt, system messages, command responses</p> <p>MAVProxy 2D Map (Top-Left): - Drone icon: Green marker showing position - Heading: Arrow indicates drone orientation - Controls: Zoom (mouse wheel), pan (drag), right-click for commands</p> <p>MAVProxy Console (Bottom-Left): - Real-time data displayed:   - Mode, Armed status   - Altitude, Speed   - GPS status, Satellite count   - Battery voltage, percentage   - Heading, Attitude</p> <p>ArduCopter Console (Bottom-Right): - Shows: System initialization, parameter loading, validation messages - Use: Monitor for errors or warnings during startup</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#cant-see-windows-headlessssh-users","title":"Can't See Windows? (Headless/SSH Users)","text":"<p>If you're on SSH without display: <pre><code>sim_vehicle.py -v ArduCopter\n</code></pre></p> <p>Skip map/console \u2014 Control via terminal only (works fine for learning).</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#understanding-flight-modes","title":"Understanding Flight Modes","text":"<p>ArduCopter has different modes for different purposes:</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#common-flight-modes","title":"Common Flight Modes","text":"Mode Purpose When to Use STABILIZE Manual control, self-levels Default mode, manual flying GUIDED Computer control via commands Autonomous commands (takeoff, land) AUTO Follow pre-planned mission Execute waypoint missions LOITER Hold position using GPS Pause and hover in place CIRCLE Fly in circular pattern Practice autonomous flight RTL Return to launch point Emergency return home LAND Descend and land Controlled landing <p>For this tutorial, we'll use:</p> <ul> <li><code>GUIDED</code> \u2014 For takeoff and landing</li> <li><code>LOITER</code> \u2014 Hold position</li> <li><code>CIRCLE</code> \u2014 Fly in circles</li> <li><code>RTL</code> \u2014 Return home</li> </ul> <p>For a complete comparison of flight modes:</p> <p></p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#check-current-mode","title":"Check Current Mode","text":"<p>At MAVProxy prompt:</p> <pre><code>mode\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>STABILIZE\n</code></pre>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#change-mode","title":"Change Mode","text":"<pre><code>mode GUIDED\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>GUIDED&gt; \n</code></pre> <p>Notice the prompt changes to show current mode.</p> <p>\u2705 Success: Mode changed, prompt shows <code>GUIDED&gt;</code></p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#arming-and-takeoff","title":"Arming and Takeoff","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#pre-arm-checks","title":"Pre-Arm Checks","text":"<p>Before arming, ArduPilot performs safety checks:</p> <ul> <li>GPS lock (SITL has instant GPS)</li> <li>Battery sufficient</li> <li>No critical errors</li> </ul> <p>In SITL, these pass automatically.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#arm-the-vehicle","title":"Arm the Vehicle","text":"<p>Switch to GUIDED mode first: <pre><code>mode GUIDED\n</code></pre></p> <p>Then arm: <pre><code>arm throttle\n</code></pre></p> <p>Expected output:</p> <p></p> <pre><code>ARMED\n</code></pre> <p>Console window: Shows \"ARMED\" status</p> <p>What happens:</p> <ul> <li>Motors would spin up (if real drone)</li> <li>Vehicle ready to fly</li> <li>LEDs change (on real hardware)</li> </ul> <p>\u2705 Success: Status shows ARMED</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#important-30-second-rule","title":"Important: 30-Second Rule","text":"<p>After arming, you have 30 seconds to takeoff.</p> <p>If you don't send takeoff command within 30 seconds:</p> <ul> <li>Vehicle automatically disarms (safety feature)</li> <li>You'll see: <code>DISARMED</code></li> </ul> <p>This prevents: Leaving motors armed indefinitely.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#takeoff-command","title":"Takeoff Command","text":"<p>Immediately after arming: <pre><code>takeoff 10\n</code></pre></p> <p>Command breakdown:</p> <ul> <li><code>takeoff</code> \u2014 Takeoff command</li> <li><code>10</code> \u2014 Target altitude in meters</li> </ul> <p>Expected behavior:</p> <ul> <li>Drone climbs to 10 meters</li> <li>Console shows altitude increasing</li> <li>Map shows altitude number changing</li> </ul> <p>This takes: 10-20 seconds to reach altitude.</p> <p>Watch console window: Altitude (Alt) climbs to ~10m</p> <p></p> <p>\u2705 Success: Altitude reaches 10 meters, drone hovers</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#basic-navigation","title":"Basic Navigation","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#navigate-using-map-easiest-method","title":"Navigate Using Map (Easiest Method)","text":"<p>After takeoff, the easiest way to move the drone:</p> <ol> <li>Right-click on the map where you want drone to go</li> <li>Select \"Fly to here\" from the menu</li> <li>Drone automatically flies to that position and holds</li> </ol> <p>Practice:</p> <ul> <li>Click different locations on the map</li> <li>Watch drone move in real-time</li> <li>Observe drone icon following your commands</li> <li>Map updates position continuously</li> </ul> <p></p> <p>\u2705 This is the recommended way for beginners!</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#hold-position-loiter-mode","title":"Hold Position (LOITER Mode)","text":"<p>To pause and hover in place:</p> <pre><code>mode LOITER\nrc 3 1500\n</code></pre> <p>What happens:</p> <ul> <li>Drone holds current GPS position</li> <li>Maintains altitude (with rc 3 1500)</li> <li>No drift (GPS position lock)</li> </ul> <p>Use this to:</p> <ul> <li>Pause during flight</li> <li>Hold position while you plan next move</li> <li>Emergency \"stop and hover\"</li> </ul> <p>Note: The <code>rc 3 1500</code> command sets throttle to maintain altitude in LOITER mode.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#practice-fly-in-circles","title":"Practice: Fly in Circles","text":"<p>Make drone fly in circular pattern:</p> <pre><code>mode GUIDED\narm throttle\ntakeoff 15\n\n# Set throttle to maintain altitude\nrc 3 1500\n\n# Switch to CIRCLE mode\nmode CIRCLE\n</code></pre> <p>What happens:</p> <ul> <li>Drone flies in circles around current center point</li> <li>Radius: 10 meters (default)</li> <li>Maintains 15m altitude (thanks to rc 3 1500)</li> <li>Direction: Clockwise</li> </ul> <p>Watch the map: Drone traces circular path</p> <p>Return home: <pre><code>mode RTL\n</code></pre></p> <p>Note: The <code>rc 3 1500</code> command is necessary to maintain altitude in CIRCLE and LOITER modes. Without it, drone will lose altitude.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#landing","title":"Landing","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#land-command","title":"Land Command","text":"<p>When ready to land: <pre><code>land\n</code></pre></p> <p>What happens:</p> <ul> <li>Drone descends at controlled rate</li> <li>Automatically disarms when on ground</li> <li>Mode changes to LAND</li> </ul> <p>This takes: 10-30 seconds depending on altitude.</p> <p>Console window: Watch altitude decrease to 0</p> <p>\u2705 Success: Altitude reaches 0, status shows DISARMED</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#alternative-rtl-return-to-launch","title":"Alternative: RTL (Return to Launch)","text":"<p>Return and land at start position: <pre><code>mode RTL\n</code></pre></p> <p>What happens:</p> <ul> <li>Drone flies back to start position</li> <li>Climbs to RTL altitude (15m default)</li> <li>Descends and lands at home</li> </ul> <p>Useful for: Emergency return or end of mission.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#understanding-coordinate-frames","title":"Understanding Coordinate Frames","text":"<p>ArduPilot uses the NED (North-East-Down) coordinate system for navigation and telemetry:</p> <p></p> Axis Direction Positive Value X North Moving northward Y East Moving eastward Z Down Moving toward ground <p>Why this matters:</p> <p>When you see telemetry data, altitude appears as a negative Z value. This is normal behavior, not an error.</p> Real-world position NED representation 10m above ground Z = -10 50m North of home X = +50 30m East of home Y = +30 <p>Example telemetry reading: <pre><code>Position: X=50, Y=30, Z=-15\n</code></pre> This means: 50m North, 30m East, 15m altitude above home.</p> <p>Note: Some robotics systems use ENU (East-North-Up) where Z is positive upward. ArduPilot uses NED, so always remember: negative Z = altitude gain.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#reading-telemetry","title":"Reading Telemetry","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#console-window-data","title":"Console Window Data","text":"<p>Key information displayed:</p> <pre><code>Mode: GUIDED\nArmed: True\nAlt: 10.5m\nSpd: 2.3m/s\nHdg: 45\u00b0\nGPS: 3D Fix (10 sats)\nBat: 12.6V (100%)\n</code></pre> <p>What each means:</p> <ul> <li>Mode \u2014 Current flight mode</li> <li>Armed \u2014 Motors armed/disarmed</li> <li>Alt \u2014 Altitude above ground</li> <li>Spd \u2014 Ground speed</li> <li>Hdg \u2014 Heading (0\u00b0 = North)</li> <li>GPS \u2014 GPS status and satellite count</li> <li>Bat \u2014 Battery voltage and percentage</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#mavproxy-status-commands","title":"MAVProxy Status Commands","text":"<p>Get GPS position: <pre><code>status GPS_RAW_INT\n</code></pre></p> <p>Get attitude (roll, pitch, yaw): <pre><code>status ATTITUDE\n</code></pre></p> <p>Get battery status: <pre><code>status SYS_STATUS\n</code></pre></p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#complete-flight-example","title":"Complete Flight Example","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#video-demonstration","title":"Video Demonstration","text":"<p>Watch the complete flight sequence in action:</p> <p></p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#step-by-step-flight","title":"Step-by-Step Flight","text":"<pre><code># 1. Start SITL with map\nsim_vehicle.py -v ArduCopter --map --console\n\n# 2. Change to GUIDED mode\nmode GUIDED\n\n# 3. Arm the vehicle\narm throttle\n\n# 4. Takeoff to 10 meters\ntakeoff 10\n\n# Wait for altitude to reach 10m (watch console)\n\n# 5. Navigate using map\n# Right-click on map and select \"Fly to here\"\n# Watch drone move to selected position\n\n# 6. Try LOITER mode\nrc 3 1500\nmode LOITER\n\n# 7. Try CIRCLE mode\nmode CIRCLE\n\n# Watch drone fly in circles\n\n# 8. Return to launch\nmode RTL\n\n# Wait for drone to return and land\n\n# 9. Exit SITL\nCtrl+C\n</code></pre> <p>Complete this sequence to verify everything works.</p> <p>\u2705 Success: Drone completes full flight, lands safely</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#custom-location-optional","title":"\ud83c\udf0d Custom Location (Optional)","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#why-change-location","title":"Why Change Location?","text":"<p>Default SITL location is in Australia. You can set your own location.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#add-custom-location","title":"Add Custom Location","text":"<p>Create location entry: <pre><code>echo \"custom=YOUR_LAT,YOUR_LONG,ALT,HEADING\" &gt;&gt; ~/simtofly_ws/ardupilot/Tools/autotest/locations.txt\n</code></pre></p> <p>Example (replace with your coordinates): <pre><code>echo \"myfield=37.7749,-122.4194,50,0\" &gt;&gt; ~/simtofly_ws/ardupilot/Tools/autotest/locations.txt\n</code></pre></p> <p>Format:</p> <ul> <li>Name = your location identifier</li> <li>LAT = latitude (decimal degrees)</li> <li>LONG = longitude (decimal degrees)</li> <li>ALT = altitude MSL (meters)</li> <li>HEADING = initial heading (0 = North)</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#launch-at-custom-location","title":"Launch at Custom Location","text":"<pre><code>sim_vehicle.py -v ArduCopter --map --console -L myfield\n</code></pre> <p>Replace <code>myfield</code> with your location name.</p> <p>Map window: Shows your custom location.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#verification-checklist","title":"Verification Checklist","text":"<p>Before moving to next section, verify:</p> <ul> <li> Can launch SITL with <code>--map --console</code></li> <li> Map and console windows open</li> <li> Can change flight modes (GUIDED, LOITER, CIRCLE)</li> <li> Can arm vehicle (<code>arm throttle</code>)</li> <li> Can takeoff to specific altitude</li> <li> Can navigate using map \"Fly to here\"</li> <li> Can use LOITER to hold position</li> <li> Can use CIRCLE to fly in circles</li> <li> Can land safely with RTL or land command</li> <li> Understand telemetry data in console</li> <li> Completed full flight sequence</li> </ul> <p>All checked? You can control a simulated drone!</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#what-you-accomplished","title":"What You Accomplished","text":"<ul> <li>\u2705 Launched SITL with visualization (map + console)</li> <li>\u2705 Understood different flight modes</li> <li>\u2705 Armed and disarmed vehicle</li> <li>\u2705 Performed takeoff to target altitude</li> <li>\u2705 Navigated drone using map interface</li> <li>\u2705 Used LOITER mode to hold position</li> <li>\u2705 Used CIRCLE mode for autonomous flight</li> <li>\u2705 Landed safely using RTL</li> <li>\u2705 Read and understood telemetry data</li> <li>\u2705 Completed full autonomous flight sequence</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#next-steps","title":"Next Steps","text":"<p>Continue to 1.5 Gazebo Simulation where we'll:</p> <ul> <li>Install Gazebo Harmonic 3D simulator</li> <li>Connect Gazebo to SITL</li> <li>See realistic drone physics</li> <li>Visualize sensors and environment</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-why-use-guided-mode-instead-of-stabilize","title":"Q: Why use GUIDED mode instead of STABILIZE?","text":"<p>A: </p> <ul> <li>GUIDED \u2014 Accepts autonomous commands (takeoff, land)</li> <li>STABILIZE \u2014 Manual RC control only (no autonomous commands)</li> </ul> <p>For autonomous missions, always use GUIDED or AUTO.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-what-if-i-forget-to-takeoff-within-30-seconds","title":"Q: What if I forget to takeoff within 30 seconds?","text":"<p>A: Vehicle disarms automatically. Just arm again and send takeoff command.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-can-i-control-multiple-drones-in-sitl","title":"Q: Can I control multiple drones in SITL?","text":"<p>A: Yes! Use multiple SITL instances on different ports. We'll cover this in advanced topics.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-how-do-i-make-drone-hold-position","title":"Q: How do I make drone hold position?","text":"<p>A: Use one of these modes:</p> <ul> <li>LOITER with <code>rc 3 1500</code> \u2014 Holds current GPS position</li> <li>Map \"Fly to here\" in GUIDED mode \u2014 Holds at clicked position</li> <li>STABILIZE won't hold position (manual control only)</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-why-do-circle-and-loiter-need-rc-3-1500","title":"Q: Why do CIRCLE and LOITER need rc 3 1500?","text":"<p>A: These modes need throttle input to maintain altitude. Without it, the drone will lose altitude. The <code>rc 3 1500</code> command sets throttle to middle position (hover).</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#q-how-do-i-stop-a-command-mid-flight","title":"Q: How do I stop a command mid-flight?","text":"<p>A: Send a new command (overrides previous) or change mode: <pre><code>mode LOITER  # Stops and holds position\n</code></pre></p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#troubleshooting","title":"Troubleshooting","text":""},{"location":"phase-1-simulation/1.4-mavproxy-basics/#map-window-doesnt-open","title":"Map window doesn't open","text":"<p>Cause: Missing Python packages</p> <p>Solution: <pre><code>pip3 install --user wxPython matplotlib\n</code></pre></p> <p>Relaunch SITL.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#bad-mode-error-when-changing-modes","title":"\"Bad mode\" error when changing modes","text":"<p>Cause: Mode name typo</p> <p>Solution: Mode names are case-sensitive. Use:</p> <ul> <li><code>GUIDED</code> (not \"guided\")</li> <li><code>STABILIZE</code> (not \"stabilize\")</li> <li><code>LOITER</code> (not \"loiter\")</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#arm-command-rejected-prearm-need-3d-fix","title":"Arm command rejected \"PreArm: Need 3D Fix\"","text":"<p>Cause: GPS not initialized (rare in SITL)</p> <p>Solution: Wait 5-10 seconds, try arming again. SITL gets instant GPS fix.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#console-shows-negative-altitude","title":"Console shows negative altitude","text":"<p>Cause: Normal! NED frame uses negative Z for up.</p> <p>Solution: Nothing to fix. Just remember:</p> <ul> <li>Altitude 10m = Z of -10</li> <li>Ground level = Z of 0</li> </ul>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#takeoff-command-does-nothing","title":"Takeoff command does nothing","text":"<p>Cause: </p> <ol> <li>Not armed</li> <li>Not in GUIDED mode</li> <li>Already in air</li> </ol> <p>Solution:</p> <pre><code>mode GUIDED\narm throttle\ntakeoff 10\n</code></pre> <p>In this exact order.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#drone-loses-altitude-in-circle-or-loiter-mode","title":"Drone loses altitude in CIRCLE or LOITER mode","text":"<p>Cause: Missing <code>rc 3 1500</code> command</p> <p>Solution: <pre><code>rc 3 1500\n</code></pre></p> <p>Then switch to CIRCLE or LOITER mode.</p>"},{"location":"phase-1-simulation/1.4-mavproxy-basics/#failed-to-change-mode-message","title":"\"Failed to change mode\" message","text":"<p>Cause: Some modes require certain conditions (e.g., GPS lock for LOITER)</p> <p>Solution: Check console for reason, or use STABILIZE/GUIDED (always available).</p> <p>\u2190 Back: 1.3 ArduPilot SITL | Next: 1.5 Gazebo Simulation \u2192</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/","title":"1.5 Gazebo Simulation","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#what-youll-learn","title":"What You'll Learn","text":"<p>Add realistic 3D visualization to your drone simulations:</p> <ul> <li>What Gazebo is and why we use it</li> <li>Install Gazebo Harmonic</li> <li>Install ArduPilot Gazebo plugin</li> <li>Launch SITL with Gazebo visualization</li> <li>Understand Gazebo interface</li> <li>Control drone with 3D feedback</li> <li>Verify physics simulation works</li> </ul> <p>Time: 30-60 minutes</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you must have completed:</p> <ul> <li>\u2705 1.1 Prerequisites and Setup</li> <li>\u2705 1.2 Environment Setup</li> <li>\u2705 1.3 ArduPilot SITL Installation</li> <li>\u2705 1.4 MAVProxy Command Line</li> <li>\u2705 SITL launches and accepts commands</li> <li>\u2705 Can control drone via MAVProxy</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#what-is-gazebo","title":"What is Gazebo?","text":"<p>Gazebo = Advanced 3D robot simulator</p> <p>It provides:</p> <ul> <li>Realistic physics \u2014 Gravity, inertia, collisions</li> <li>3D visualization \u2014 See your drone in realistic environment</li> <li>Sensor simulation \u2014 Camera, GPS, IMU, lidar</li> <li>Environmental factors \u2014 Wind, lighting, terrain</li> </ul> <p>Why add Gazebo to SITL?</p> <p>SITL alone:</p> <ul> <li>No visual feedback (just text/map)</li> <li>No realistic physics</li> <li>No sensor simulation</li> </ul> <p>SITL + Gazebo:</p> <ul> <li>See drone in 3D world</li> <li>Realistic flight physics</li> <li>Test sensors before real hardware</li> <li>Better understanding of behavior</li> </ul> <p>Later (Phase 2): We'll add ROS2 sensors in Gazebo.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#install-gazebo-harmonic","title":"Install Gazebo Harmonic","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#why-gazebo-harmonic","title":"Why Gazebo Harmonic?","text":"<p>Gazebo Harmonic (released 2024) is the recommended version:</p> <ul> <li>Latest LTS (Long Term Support) release</li> <li>Best Ubuntu 22.04 support</li> <li>Officially supported by ArduPilot</li> <li>Active development and updates</li> </ul> <p>Official documentation: https://gazebosim.org/docs/harmonic/install_ubuntu</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#install-required-tools","title":"Install Required Tools","text":"<p>First, ensure required tools are installed: <pre><code>sudo apt update\nsudo apt install curl lsb-release gnupg -y\n</code></pre></p> <p>What these are:</p> <ul> <li><code>curl</code> \u2014 Download files from internet</li> <li><code>lsb-release</code> \u2014 Detect Ubuntu version</li> <li><code>gnupg</code> \u2014 Verify package signatures</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#add-gazebo-repository","title":"Add Gazebo Repository","text":"<p>Add Gazebo GPG key: <pre><code>sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\n</code></pre></p> <p>Add repository to sources list: <pre><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] https://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list &gt; /dev/null\n</code></pre></p> <p>What this does: Adds official Gazebo Harmonic repository to your system.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#update-package-list","title":"Update Package List","text":"<pre><code>sudo apt update\n</code></pre>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#install-gazebo-harmonic_1","title":"Install Gazebo Harmonic","text":"<pre><code>sudo apt install gz-harmonic -y\n</code></pre> <p>What this installs: Complete Gazebo Harmonic suite.</p> <p>This takes: 5-10 minutes (downloads ~1-2GB).</p> <p>Expected output: <pre><code>Reading package lists... Done\nBuilding dependency tree... Done\n...\nSetting up gz-harmonic...\n</code></pre></p> <p>\u2705 Success: Installation completes without errors</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#verify-gazebo-installation","title":"Verify Gazebo Installation","text":"<pre><code>gz sim --version\n</code></pre> <p>Expected output:</p> <p></p> <pre><code>Gazebo Sim, version 8.x.x\n</code></pre> <p>\u2705 Success: Shows Gazebo Sim version 8.x (Harmonic)</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#test-gazebo-launch","title":"Test Gazebo Launch","text":"<pre><code>gz sim -v4 shapes.sdf\n</code></pre> <p>What happens:</p> <ul> <li>Gazebo window opens</li> <li>Shows world with various 3D shapes</li> <li>May take 10-20 seconds on first launch</li> </ul> <p>If window opens: \u2705 Gazebo installed correctly</p> <p>Close Gazebo: File \u2192 Exit (or Ctrl+C in terminal)</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#install-ardupilot-gazebo-plugin","title":"Install ArduPilot Gazebo Plugin","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#what-is-the-plugin","title":"What is the Plugin?","text":"<p>The ArduPilot Gazebo plugin connects:</p> <ul> <li>ArduPilot SITL \u2194 Gazebo simulator</li> <li>Sends motor commands from ArduPilot to Gazebo</li> <li>Sends sensor data from Gazebo to ArduPilot</li> </ul> <p>Without plugin: SITL and Gazebo can't communicate.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#how-the-integration-works","title":"How the Integration Works","text":"<p>Official repository: https://github.com/ArduPilot/ardupilot_gazebo</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#install-dependencies","title":"Install Dependencies","text":"<p>ArduPilot Gazebo plugin requires these packages: <pre><code>sudo apt update\nsudo apt install libgz-sim8-dev rapidjson-dev -y\n</code></pre> <pre><code>sudo apt install libopencv-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev gstreamer1.0-plugins-bad gstreamer1.0-libav gstreamer1.0-gl -y\n</code></pre></p> <p>What these are:</p> <ul> <li><code>libgz-sim8-dev</code> \u2014 Gazebo Harmonic development libraries</li> <li><code>rapidjson-dev</code> \u2014 JSON parsing library (for communication)</li> <li><code>libopencv-dev</code> \u2014 Computer vision library (required for camera sensors)</li> <li><code>libgstreamer*</code> \u2014 Video streaming libraries (required for plugin compilation)</li> </ul> <p>This takes: 5-10 minutes</p> <p>Expected output: <pre><code>Reading package lists... Done\nBuilding dependency tree... Done\n...\nSetting up libopencv-dev...\nSetting up libgstreamer1.0-dev...\n...\n</code></pre></p> <p>\u2705 Success: All packages installed without errors</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#clone-ardupilot-gazebo-plugin","title":"Clone ArduPilot Gazebo Plugin","text":"<pre><code>cd ~/simtofly_ws\ngit clone https://github.com/ArduPilot/ardupilot_gazebo.git\n</code></pre> <p>This takes: 1-2 minutes.</p> <p>Expected output: <pre><code>Cloning into 'ardupilot_gazebo'...\nremote: Enumerating objects: ...\n...\nResolving deltas: 100% (xxx/xxx), done.\n</code></pre></p> <p>\u2705 Success: Repository cloned</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#build-the-plugin","title":"Build the Plugin","text":"<pre><code>cd ~/simtofly_ws/ardupilot_gazebo\nmkdir build &amp;&amp; cd build\ncmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo\nmake -j4\n</code></pre> <p>Command breakdown:</p> <ul> <li><code>mkdir build &amp;&amp; cd build</code> \u2014 Create build directory</li> <li><code>cmake ..</code> \u2014 Configure build system</li> <li><code>-DCMAKE_BUILD_TYPE=RelWithDebInfo</code> \u2014 Optimized build with debug info</li> <li><code>make -j4</code> \u2014 Build using 4 CPU cores</li> </ul> <p>This takes: 5-10 minutes.</p> <p>Expected output: <pre><code>-- The C compiler identification is GNU 11.x.x\n-- The CXX compiler identification is GNU 11.x.x\n...\n-- Compiling against Gazebo Harmonic\n-- RapidJSON found. Headers: /usr/include\n-- OpenCV found\n...\n[ 25%] Building CXX object ...\n[ 50%] Building CXX object ...\n[ 75%] Building CXX object ...\n[100%] Built target ArduPilotPlugin\n</code></pre></p> <p>\u2705 Success: Shows \"[100%] Built target ArduPilotPlugin\"</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#configure-environment-variables","title":"Configure Environment Variables","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#add-plugin-to-gazebos-search-path","title":"Add Plugin to Gazebo's Search Path","text":"<p>Gazebo needs to know where to find the plugin and models.</p> <p>Add environment variables: <pre><code>echo 'export GZ_SIM_SYSTEM_PLUGIN_PATH=$HOME/simtofly_ws/ardupilot_gazebo/build:${GZ_SIM_SYSTEM_PLUGIN_PATH}' &gt;&gt; ~/.bashrc\n</code></pre> <pre><code>echo 'export GZ_SIM_RESOURCE_PATH=$HOME/simtofly_ws/ardupilot_gazebo/models:$HOME/simtofly_ws/ardupilot_gazebo/worlds:${GZ_SIM_RESOURCE_PATH}' &gt;&gt; ~/.bashrc\n</code></pre></p> <p>What these do:</p> <ul> <li>First line: Tells Gazebo where to find the ArduPilot plugin</li> <li>Second line: Tells Gazebo where to find drone models and simulation worlds</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#apply-changes","title":"Apply Changes","text":"<pre><code>source ~/.bashrc\n</code></pre>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#verify-environment-variables","title":"Verify Environment Variables","text":"<pre><code>echo $GZ_SIM_SYSTEM_PLUGIN_PATH\necho $GZ_SIM_RESOURCE_PATH\n</code></pre> <p>Expected output: Should show paths to your plugin and models directories.</p> <p>\u2705 Success: Paths displayed correctly</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#launch-sitl-with-gazebo","title":"Launch SITL with Gazebo","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#start-gazebo-first","title":"Start Gazebo First","text":"<p>Open Terminal 1: <pre><code>gz sim -v4 -r iris_runway.sdf\n</code></pre></p> <p>Command breakdown:</p> <ul> <li><code>gz sim</code> \u2014 Launch Gazebo simulator</li> <li><code>-v4</code> \u2014 Verbose output (helpful for troubleshooting)</li> <li><code>-r</code> \u2014 Run simulation immediately (not paused)</li> <li><code>iris_runway.sdf</code> \u2014 Quadcopter on runway world</li> </ul> <p>This takes: 10-20 seconds to load.</p> <p>Expected result:</p> <ul> <li>Gazebo window opens</li> <li>Shows runway environment</li> <li>Drone (iris quadcopter) visible on runway</li> </ul> <p>\u2705 Success: See drone in Gazebo world</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#start-sitl","title":"Start SITL","text":"<p>Open Terminal 2 (keep Gazebo running in Terminal 1): <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter\nsim_vehicle.py -v ArduCopter -f gazebo-iris --model JSON --map --console\n</code></pre></p> <p>Command breakdown: - <code>-v ArduCopter</code> \u2014 Vehicle type (multirotor) - <code>-f gazebo-iris</code> \u2014 Use Gazebo with iris model - <code>--model JSON</code> \u2014 Use JSON protocol for communication - <code>--map</code> \u2014 Open map window - <code>--console</code> \u2014 Open console window</p> <p>This takes: 10-15 seconds.</p> <p>Expected output: <pre><code>Starting SITL...\nWaiting for JSON sensor data...\nReceived sensor data from Gazebo\n...\nAPM: ArduCopter V4.5.7 (...)\n...\nSTABILIZE&gt;\n</code></pre></p> <p>\u2705 Success: Shows \"Received sensor data from Gazebo\" and <code>STABILIZE&gt;</code> prompt</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#verify-connection","title":"Verify Connection","text":"<p>In Gazebo window: - Drone should be sitting on runway - Propellers visible</p> <p>In SITL console window: - Shows flight mode (STABILIZE) - GPS status should be good</p> <p>In map window: - Drone position displayed</p> <p>\u2705 Success: All windows show drone data</p> <p>Here's a quick reference of what each window does:</p> Window # Name Purpose 1 Gazebo Launch Terminal Gazebo output logs and messages 2 Gazebo 3D Simulator 3D visualization of drone and environment 3 SITL Main Terminal Enter MAVProxy commands (arm, takeoff, etc.) 4 MAVProxy Status System messages, errors, and status updates 5 MAVProxy 2D Map Top-down view of drone position and waypoints 6 MAVProxy Console Real-time telemetry (altitude, speed, battery, GPS) <p>Note: Windows 1-2 are the Gazebo simulator running separately, while Windows 3-6 all are part of MAVProxy/SITL.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#test-flight-in-gazebo","title":"Test Flight in Gazebo","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#arm-and-takeoff","title":"Arm and Takeoff","text":"<p>In SITL terminal (Terminal 2): <pre><code>mode GUIDED\n</code></pre> <pre><code>arm throttle\n</code></pre> <pre><code>takeoff 10\n</code></pre></p> <p>Watch in Gazebo: - Propellers start spinning - Drone lifts off ground - Climbs to 10 meters - Physics looks realistic (smooth acceleration)</p> <p>This takes: 10-20 seconds to reach altitude.</p> <p></p> <p>\u2705 Success: Drone flies in Gazebo, hovers at 10m</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#navigate-in-gazebo","title":"Navigate in Gazebo","text":"<p>Using MAVProxy map window (easiest method):</p> <ol> <li>In the MAVProxy map window, right-click where you want drone to go</li> <li>Select <code>Fly to</code></li> <li>Drone automatically flies to position and holds</li> </ol> <p>Watch in Gazebo:</p> <ul> <li>Drone tilts in flight direction</li> <li>Moves smoothly to new position</li> <li>Realistic flight physics</li> <li>Automatically holds position when reached</li> </ul> <p>Try clicking different locations on the map to see the drone respond!</p> <p>Return to Launch: <pre><code>mode RTL\n</code></pre></p> <p>Drone automatically returns to takeoff position.</p> <p>OR</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#land","title":"Land","text":"<pre><code>land\n</code></pre> <p>Watch in Gazebo: - Drone descends smoothly - Touches down on runway - Propellers stop spinning - Automatically disarms</p> <p>\u2705 Success: Complete flight in 3D simulation</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#understanding-gazebo-interface","title":"Understanding Gazebo Interface","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#main-window-elements","title":"Main Window Elements","text":"<p>Top Left Toolbar:</p> <ul> <li>Shape and transform tools</li> <li>Screenshot</li> </ul> <p>Right Panel:</p> <ul> <li>Top: Model properties (pose, settings)</li> <li>Bottom: Entity Tree (list of objects)</li> <li>Select objects to inspect and modify</li> </ul> <p>Bottom Left:</p> <ul> <li>Play/Pause button</li> <li>Real-time factor (simulation speed)</li> </ul> <p>Center:</p> <ul> <li>3D visualization</li> <li>Main view of drone and environment</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#camera-controls","title":"Camera Controls","text":"<p>Use mouse to navigate the view:</p> <ul> <li>Left-drag: Rotate view around point</li> <li>Middle-drag: Pan view (move camera position)</li> <li>Right-drag: Zoom in/out</li> <li>Scroll wheel: Zoom in/out</li> <li>Shift + Left-drag: Look around (first-person style)</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#useful-view-controls","title":"Useful View Controls","text":"<ol> <li> <p>Right-click on <code>iris_with_gimbal</code> in Entity Tree (right panel, bottom section)</p> </li> <li> <p>Many options like <code>Move To</code>, <code>Follow Options</code> (Follow, Free Look, Look At), <code>Track</code>, <code>Remove</code>, <code>Copy</code>, <code>Paste</code>, <code>View</code> ( Center of Mass, Collisions, Inertia, Joints, Frams, Transparent, Wireframe)</p> </li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#different-gazebo-worlds","title":"Different Gazebo Worlds","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#available-worlds","title":"Available Worlds","text":"<p>The plugin includes several environments:</p> <p>iris_runway.sdf \u2014 Drone on runway (default, fast loading) iris_maze.sdf \u2014 Indoor maze environment iris_warehouse.sdf \u2014 Indoor warehouse with obstacles</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#launch-different-world","title":"Launch Different World","text":"<p>Example: Launch in warehouse:</p> <p>Terminal 1: <pre><code>gz sim -v4 -r iris_warehouse.sdf\n</code></pre></p> <p>Note: The warehouse world may take 3-5 minutes to load on first launch. It downloads 3D models from the internet, so ensure you have a stable internet connection. The Gazebo window may appear frozen during download \u2014 this is normal. Subsequent launches will be much faster as models are cached locally.</p> <p>Terminal 2: <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter\nsim_vehicle.py -v ArduCopter -f gazebo-iris --model JSON --map --console\n</code></pre></p> <p></p> <p>Try different worlds to test various flight scenarios!</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#verification-checklist","title":"Verification Checklist","text":"<p>Before moving to next section, verify:</p> <ul> <li> Gazebo Harmonic installed (version 8.x)</li> <li> ArduPilot Gazebo plugin built successfully</li> <li> Environment variables set correctly</li> <li> Gazebo launches with drone model</li> <li> SITL connects to Gazebo (sees sensor data)</li> <li> Can arm and takeoff in Gazebo</li> <li> Drone physics looks realistic</li> <li> Can navigate and land successfully</li> <li> Understand Gazebo interface controls</li> </ul> <p>All checked? You have complete 3D simulation! </p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#what-you-accomplished","title":"What You Accomplished","text":"<ul> <li>\u2705 Installed Gazebo Harmonic simulator</li> <li>\u2705 Installed all required dependencies</li> <li>\u2705 Built ArduPilot Gazebo plugin from source</li> <li>\u2705 Configured environment for plugin</li> <li>\u2705 Connected SITL to Gazebo</li> <li>\u2705 Launched drone in 3D environment</li> <li>\u2705 Performed flight with realistic physics</li> <li>\u2705 Learned Gazebo interface navigation</li> <li>\u2705 Tested different simulation worlds</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#next-steps","title":"Next Steps","text":"<p>Continue to 1.6 First Autonomous Mission where we'll:</p> <ul> <li>Create waypoint mission file</li> <li>Load mission into SITL</li> <li>Execute autonomous flight in Gazebo</li> <li>Analyze flight logs</li> <li>Complete Phase 1 successfully</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-gazebo-garden-vs-gazebo-harmonic","title":"Q: Gazebo Garden vs Gazebo Harmonic?","text":"<p>A: Both work with ArduPilot:</p> <ul> <li>Harmonic (recommended) \u2014 Latest LTS release, best support</li> <li>Garden \u2014 Older release, still supported</li> </ul> <p>Stick with Harmonic unless you have specific compatibility needs.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-why-build-plugin-from-source-instead-of-using-packages","title":"Q: Why build plugin from source instead of using packages?","text":"<p>A: The ArduPilot Gazebo plugin isn't available in Ubuntu repositories. Building from source ensures you get the latest version with all features and bug fixes.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-gazebo-is-very-slow-or-laggy","title":"Q: Gazebo is very slow or laggy","text":"<p>A: Solutions: - Close other applications - Reduce Gazebo quality: Edit \u2192 Physics \u2192 Real time factor - Use simpler worlds (iris_runway instead of warehouse) - Allocate more RAM to VM (if using VM) - Lower graphics settings - Consider native Ubuntu instead of VM for better performance</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-can-i-use-gazebo-with-px4-instead-of-ardupilot","title":"Q: Can I use Gazebo with PX4 instead of ArduPilot?","text":"<p>A: Yes! Gazebo supports multiple autopilots. This tutorial focuses on ArduPilot, but Gazebo works with PX4, Betaflight, and others.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-how-do-i-add-custom-models-to-gazebo","title":"Q: How do I add custom models to Gazebo?","text":"<p>A: Advanced topic \u2014 Place models in <code>~/simtofly_ws/ardupilot_gazebo/models/</code> and they'll be available. We'll cover custom models in advanced tutorials.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#q-the-warehouse-world-wont-load","title":"Q: The warehouse world won't load","text":"<p>A: This world downloads models from internet: - Ensure stable internet connection - First load takes 3-5 minutes (downloading models) - Gazebo window may freeze \u2014 wait patiently - Check terminal for download progress - Cached after first load (faster next time)</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#troubleshooting-plugin-build","title":"Troubleshooting Plugin Build","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#error-could-not-find-opencv","title":"Error: \"Could not find OpenCV\" \u26a0\ufe0f","text":"<p>Full error message: <pre><code>CMake Error at CMakeLists.txt:86 (find_package):\n  By not providing \"FindOpenCV.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"OpenCV\", but\n  CMake did not find one.\n</code></pre></p> <p>Cause: Missing OpenCV and GStreamer dependencies.</p> <p>Solution: <pre><code>sudo apt update\nsudo apt install libopencv-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev gstreamer1.0-plugins-bad gstreamer1.0-libav gstreamer1.0-gl -y\n</code></pre></p> <p>Then clean and rebuild: <pre><code>cd ~/simtofly_ws/ardupilot_gazebo/build\nrm -rf *\ncmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo\nmake -j4\n</code></pre></p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#error-could-not-find-gz-sim8","title":"Error: \"Could not find gz-sim8\" \u26a0\ufe0f","text":"<p>Cause: Gazebo Harmonic not installed or dependencies missing.</p> <p>Solution:</p> <ol> <li>Verify Gazebo installed:</li> </ol> <pre><code>gz sim --version\n</code></pre> <p>Should show: <code>Gazebo Sim, version 8.x.x</code></p> <p>If not, Gazebo installation failed. Repeat Gazebo installation steps above.</p> <ol> <li> <p>Install missing dependencies: <pre><code>sudo apt update\nsudo apt install libgz-sim8-dev rapidjson-dev -y\n</code></pre></p> </li> <li> <p>Clean and rebuild: <pre><code>cd ~/simtofly_ws/ardupilot_gazebo/build\nrm -rf *\ncmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo\nmake -j4\n</code></pre></p> </li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#error-wrong-gazebo-version","title":"Error: Wrong Gazebo Version \u26a0\ufe0f","text":"<p>Check installed version: <pre><code>dpkg -l | grep gz-sim\n</code></pre></p> <p>Should show: <code>gz-sim8</code> (Harmonic)</p> <p>If shows <code>gz-sim7</code> (Garden):</p> <p>You installed Garden instead of Harmonic. Uninstall and reinstall: <pre><code>sudo apt remove gz-garden -y\nsudo apt autoremove -y\nsudo apt install gz-harmonic -y\n</code></pre></p> <p>Then retry plugin build from \"Install Dependencies\" section.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#build-is-very-slow","title":"Build is Very Slow \u26a0\ufe0f","text":"<p>Cause: Limited CPU cores or VM with low resources.</p> <p>Solutions:</p> <ul> <li>Be patient (first build takes 5-10 minutes)</li> <li>Use fewer build threads: <code>make -j2</code> instead of <code>make -j4</code></li> <li>Close other applications</li> <li>Allocate more RAM/CPU to VM if applicable</li> <li>Subsequent builds will be much faster</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#additional-troubleshooting","title":"Additional Troubleshooting","text":""},{"location":"phase-1-simulation/1.5-gazebo-simulation/#gazebo-window-doesnt-open","title":"Gazebo window doesn't open","text":"<p>Cause: Missing graphics libraries or GPU drivers</p> <p>Solution: <pre><code>sudo apt install libgl1-mesa-glx libglu1-mesa -y\n</code></pre></p> <p>Restart computer, try again.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#failed-to-load-plugin-in-gazebo","title":"\"Failed to load plugin\" in Gazebo","text":"<p>Cause: Plugin not in Gazebo's search path or environment variables not set</p> <p>Solution:</p> <ol> <li>Verify environment variable: <pre><code>echo $GZ_SIM_SYSTEM_PLUGIN_PATH\n</code></pre></li> </ol> <p>Should show path to your plugin build directory.</p> <ol> <li> <p>If empty, re-add: <pre><code>echo 'export GZ_SIM_SYSTEM_PLUGIN_PATH=$HOME/simtofly_ws/ardupilot_gazebo/build:${GZ_SIM_SYSTEM_PLUGIN_PATH}' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></p> </li> <li> <p>Restart Gazebo</p> </li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#sitl-doesnt-connect-to-gazebo","title":"SITL doesn't connect to Gazebo","text":"<p>Cause: Gazebo not running, or wrong model specified</p> <p>Solution:</p> <ol> <li>Start Gazebo first (Terminal 1) and wait for world to fully load</li> <li>Then start SITL (Terminal 2)</li> <li>Verify <code>-f gazebo-iris</code> flag is used</li> <li>Check for \"Received sensor data from Gazebo\" message</li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#could-not-find-iris_runwaysdf","title":"\"Could not find iris_runway.sdf\"","text":"<p>Cause: GZ_SIM_RESOURCE_PATH not set correctly</p> <p>Solution: <pre><code>echo 'export GZ_SIM_RESOURCE_PATH=$HOME/simtofly_ws/ardupilot_gazebo/models:$HOME/simtofly_ws/ardupilot_gazebo/worlds:${GZ_SIM_RESOURCE_PATH}' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre></p> <p>Close and reopen terminal.</p>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#drone-falls-through-ground-in-gazebo","title":"Drone falls through ground in Gazebo","text":"<p>Cause: Physics not initialized properly or simulation running too fast</p> <p>Solution:</p> <ul> <li>Restart Gazebo</li> <li>Wait 2-3 seconds after Gazebo launches before starting SITL</li> <li>Check real-time factor is ~1.0 (not 10x or higher)</li> <li>Reduce system load (close other applications)</li> </ul>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#json-sensor-timeout-error-in-sitl","title":"\"JSON sensor timeout\" error in SITL","text":"<p>Cause: SITL can't receive data from Gazebo</p> <p>Solution:</p> <ol> <li>Verify Gazebo is running first with drone model loaded</li> <li>Check terminal for errors in Gazebo window</li> <li>Restart both Gazebo and SITL in correct order:</li> <li>First: Gazebo (wait for full load)</li> <li>Second: SITL</li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#gazebo-crashes-on-launch","title":"Gazebo crashes on launch","text":"<p>Cause: GPU/graphics driver issues (common in VMs)</p> <p>Solution:</p> <ol> <li> <p>Update graphics drivers: <pre><code>sudo apt update\nsudo apt upgrade -y\n</code></pre></p> </li> <li> <p>Try software rendering: <pre><code>export LIBGL_ALWAYS_SOFTWARE=1\ngz sim -v4 -r iris_runway.sdf\n</code></pre></p> </li> <li> <p>For VMs: Enable 3D acceleration in VM settings</p> </li> <li> <p>Consider native Ubuntu for better GPU support</p> </li> </ol>"},{"location":"phase-1-simulation/1.5-gazebo-simulation/#additional-resources","title":"Additional Resources","text":"<p>Official Documentation:</p> <ul> <li>Gazebo Harmonic: https://gazebosim.org/docs/harmonic</li> <li>ArduPilot Gazebo Plugin: https://github.com/ArduPilot/ardupilot_gazebo</li> <li>ArduPilot SITL with Gazebo: https://ardupilot.org/dev/docs/sitl-with-gazebo.html</li> <li>Gazebo Tutorials: https://gazebosim.org/docs/harmonic/tutorials</li> </ul> <p>Community:</p> <ul> <li>ArduPilot Forums: https://discuss.ardupilot.org/</li> <li>Gazebo Community: https://community.gazebosim.org/</li> <li>ArduPilot Discord: https://ardupilot.org/discord</li> </ul> <p>\u2190 Back: 1.4 MAVProxy Basics | Next: 1.6 First Autonomous Mission \u2192</p>"},{"location":"phase-1-simulation/1.6-first-mission/","title":"1.6 First Autonomous Mission","text":""},{"location":"phase-1-simulation/1.6-first-mission/#what-youll-learn","title":"What You'll Learn","text":"<p>Execute your first complete autonomous drone mission:</p> <ul> <li>Understand waypoint mission structure</li> <li>Create mission file in proper format</li> <li>Load mission into SITL</li> <li>Execute AUTO mode flight</li> <li>Monitor mission progress</li> <li>Analyze flight logs</li> <li>Complete Phase 1 successfully</li> </ul> <p>Time: 60-90 minutes</p>"},{"location":"phase-1-simulation/1.6-first-mission/#prerequisites","title":"Prerequisites","text":"<p>Before starting, you must have completed:</p> <ul> <li>\u2705 1.1 Prerequisites and Setup</li> <li>\u2705 1.2 Environment Setup</li> <li>\u2705 1.3 ArduPilot SITL Installation</li> <li>\u2705 1.4 MAVProxy Command Line</li> <li>\u2705 1.5 Gazebo Simulation</li> <li>\u2705 Can fly drone in Gazebo successfully</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#what-is-a-mission","title":"What is a Mission?","text":"<p>Mission = Pre-planned list of commands the drone executes autonomously</p> <p>Mission commands include:</p> <ul> <li>Takeoff to altitude</li> <li>Fly to waypoint (latitude, longitude, altitude)</li> <li>Perform action (take photo, wait, change speed)</li> <li>Return to launch</li> <li>Land</li> </ul> <p>AUTO mode: Flight mode that executes loaded mission automatically.</p> <p>Why missions matter:</p> <ul> <li>Real-world applications (surveying, delivery, inspection)</li> <li>Repeatable flights</li> <li>Complex patterns without manual control</li> <li>Foundation for advanced autonomy</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-file-format","title":"Mission File Format","text":""},{"location":"phase-1-simulation/1.6-first-mission/#qgroundcontrol-waypoint-format","title":"QGroundControl Waypoint Format","text":"<p>ArduPilot uses QGC WPL 110 format (QGroundControl Waypoint List).</p> <p>File structure: <pre><code>QGC WPL 110\n0  1  0  16  0  0  0  0  LAT  LON  ALT  1\n1  0  3  22  0.00  0.00  0.00  0.00  0.0  0.0  10.0  1\n2  0  3  16  0.00  0.00  0.00  0.00  -35.36  149.16  20.0  1\n3  0  3  16  0.00  0.00  0.00  0.00  -35.37  149.17  20.0  1\n4  0  3  16  0.00  0.00  0.00  0.00  -35.36  149.17  20.0  1\n5  0  3  21  0.00  0.00  0.00  0.00  0.0  0.0  0.0  1\n</code></pre></p> <p>Header line: <code>QGC WPL 110</code></p> <p>Each line (waypoint) has 12 columns:</p> Column Name Description Example 1 Index Waypoint number 0, 1, 2, 3... 2 Current Home position (1) or waypoint (0) 1 for home, 0 for others 3 Frame Coordinate system (3 = relative altitude) 3 4 Command MAVLink command ID 16=WAYPOINT, 22=TAKEOFF, 21=RTL 5-8 Params Command-specific parameters Usually 0 9 Latitude Latitude in decimal degrees -35.363261 10 Longitude Longitude in decimal degrees 149.165237 11 Altitude Altitude in meters (relative to home) 10.0, 20.0 12 Autocontinue Auto-continue to next waypoint (1=yes) 1"},{"location":"phase-1-simulation/1.6-first-mission/#common-mavlink-commands","title":"Common MAVLink Commands","text":"Command ID Name Purpose 16 NAV_WAYPOINT Fly to waypoint and hold 22 NAV_TAKEOFF Takeoff to altitude 20 NAV_LAND Land at location 21 NAV_RETURN_TO_LAUNCH Return and land at home 93 NAV_DELAY Wait at waypoint (seconds) <p>Full list: https://mavlink.io/en/messages/common.html</p>"},{"location":"phase-1-simulation/1.6-first-mission/#create-your-first-mission","title":"Create Your First Mission","text":""},{"location":"phase-1-simulation/1.6-first-mission/#mission-plan","title":"Mission Plan","text":"<p>Let's create a simple square pattern:</p> <ol> <li>Takeoff to 10m</li> <li>Fly North 30m at 20m altitude</li> <li>Fly East 30m at 20m altitude</li> <li>Fly South 30m (back toward start) at 20m altitude</li> <li>Fly West 30m (return to start position) at 20m altitude</li> <li>Return to Launch (RTL at 15m, then land)</li> </ol> <p>Flight path:</p> <p><pre><code>Start/Land\n    \u2193\n    1 (Takeoff 10m)\n    \u2193\n    2 (North 30m, alt 20m)\n    \u2193\n    3 (East 30m, alt 20m)\n    \u2193\n    4 (South 30m, alt 20m)\n    \u2193\n    5 (West 30m, alt 20m)\n    \u2193\n    6 (RTL - Return home)\n</code></pre> </p>"},{"location":"phase-1-simulation/1.6-first-mission/#create-mission-file","title":"Create Mission File","text":"<p>The missions directory was created in Section 1.2. Create the mission file:</p> <pre><code>nano ~/simtofly_ws/missions/square_mission.txt\n</code></pre> <p></p>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-file-content","title":"Mission File Content","text":"<p>Paste this exactly: <pre><code>QGC WPL 110\n0   1   0   16  0   0   0   0   -35.363261  149.165237  584 1\n1   0   3   22  0.00000000  0.00000000  0.00000000  0.00000000  0.00000000  0.00000000  10.0000000  1\n2   0   3   16  0.00000000  0.00000000  0.00000000  0.00000000  -35.362991  149.165237  20.0000000  1\n3   0   3   16  0.00000000  0.00000000  0.00000000  0.00000000  -35.362991  149.165507  20.0000000  1\n4   0   3   16  0.00000000  0.00000000  0.00000000  0.00000000  -35.363261  149.165507  20.0000000  1\n5   0   3   16  0.00000000  0.00000000  0.00000000  0.00000000  -35.363261  149.165237  20.0000000  1\n6   0   3   21  0.00000000  0.00000000  0.00000000  0.00000000  0.00000000  0.00000000  0.0000000   1\n</code></pre></p> <p>Save and exit: Ctrl+X, then Y, then Enter</p>"},{"location":"phase-1-simulation/1.6-first-mission/#understanding-the-mission-file","title":"Understanding the Mission File","text":"<p>Line 0 (Home position): <pre><code>0  1  0  16  0  0  0  0  -35.363261  149.165237  584  1\n</code></pre></p> <ul> <li>Index 0, Current=1 (home), Command 16 (waypoint)</li> <li>Lat/Lon: Default SITL location (Australia)</li> <li>Alt: 584m MSL (mean sea level)</li> </ul> <p>Line 1 (Takeoff): <pre><code>1  0  3  22  0  0  0  0  0  0  10.0  1\n</code></pre></p> <ul> <li>Command 22 (TAKEOFF)</li> <li>Altitude: 10m (relative to home)</li> </ul> <p>Lines 2-5 (Waypoints): <pre><code>2  0  3  16  0  0  0  0  -35.362991  149.165237  20.0  1\n</code></pre></p> <ul> <li>Command 16 (WAYPOINT)</li> <li>Each corner of square</li> <li>Altitude: 20m (relative)</li> </ul> <p>Line 6 (Return to Launch): <pre><code>6  0  3  21  0  0  0  0  0  0  0  1\n</code></pre></p> <ul> <li>Command 21 (RTL)</li> <li>Climbs to 15m (default RTL altitude)</li> <li>Returns to home and lands</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-execution-flow","title":"Mission Execution Flow","text":"<p>Before executing, understand the state transitions:</p> <p></p>"},{"location":"phase-1-simulation/1.6-first-mission/#execute-mission-in-sitl","title":"Execute Mission in SITL","text":""},{"location":"phase-1-simulation/1.6-first-mission/#video-demonstration","title":"Video Demonstration","text":"<p>Watch the complete mission execution in SITL:</p> <p></p> <p>Complete autonomous square pattern mission with 2D map visualization</p>"},{"location":"phase-1-simulation/1.6-first-mission/#launch-sitl","title":"Launch SITL","text":"<p>Start SITL with map and console:</p> <pre><code>sim_vehicle.py -v ArduCopter --map --console\n</code></pre> <p>Note: We can run <code>sim_vehicle.py</code> from any directory because we added it to PATH in Section 1.3.</p> <p>Wait for: <code>STABILIZE&gt;</code> prompt and map window to open.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#load-mission-file","title":"Load Mission File","text":"<p>At MAVProxy prompt:</p> <pre><code>wp load /home/YOUR_USERNAME/simtofly_ws/missions/square_mission.txt\n</code></pre> <p>Important: Replace <code>YOUR_USERNAME</code> with your actual username.</p> <p>Full Absolute Path Required</p> <p>MAVProxy does not expand <code>~</code> or <code>$HOME</code> variables. You must use the complete path.</p> <p>To find your username: <pre><code>echo $USER\n</code></pre></p> <p>Expected output: <pre><code>Loaded 7 waypoints from /home/YOUR_USERNAME/simtofly_ws/missions/square_mission.txt\n</code></pre></p> <p></p> <p>\u2705 Success: Mission loaded (7 items: home + 6 commands)</p> <p>Note: MAVProxy requires full absolute path. Using <code>~</code> or <code>$HOME</code> will not work.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#verify-mission-loaded","title":"Verify Mission Loaded","text":"<pre><code>wp list\n</code></pre> <p>Expected output: <pre><code>0  HOME(-35.363261, 149.165237, 584.00)\n1  TAKEOFF(0.000000, 0.000000, 10.00)\n2  WAYPOINT(-35.362991, 149.165237, 20.00)\n3  WAYPOINT(-35.362991, 149.165507, 20.00)\n4  WAYPOINT(-35.363261, 149.165507, 20.00)\n5  WAYPOINT(-35.363261, 149.165237, 20.00)\n6  RTL(0.000000, 0.000000, 0.00)\n</code></pre></p> <p></p> <p>\u2705 Success: All waypoints listed correctly</p> <p>Map window: Should show waypoint markers connected by lines.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#execute-mission","title":"Execute Mission","text":"<p>Command sequence:</p> <pre><code>mode GUIDED\narm throttle\ntakeoff 10\nmode AUTO\n</code></pre> <p>What happens:</p> <ol> <li>Switch to GUIDED mode</li> <li>Motors spin up (armed)</li> <li>Drone takes off to 10m</li> <li>Switch to AUTO mode</li> <li>Mission executes automatically:</li> <li>Climbs to 20m</li> <li>Flies to each waypoint in sequence</li> <li>Returns to start position (RTL)</li> <li>Descends and lands</li> <li>Automatically disarms</li> </ol> <p>This takes: 2-3 minutes total.</p> <p>Why GUIDED first? Starting in GUIDED mode and taking off manually before AUTO ensures all systems are working and provides smoother transition to autonomous flight.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#monitor-mission-progress","title":"Monitor Mission Progress","text":"<p>Watch console window: - Current waypoint number - Altitude climbing/descending - Distance to next waypoint</p> <p>Watch map window: - Drone icon moving - Following waypoint path - Position updating in real-time</p> <p>MAVProxy prompt shows: <pre><code>AUTO&gt; WP: 2\nAUTO&gt; WP: 3\nAUTO&gt; WP: 4\n...\n</code></pre></p> <p>\u2705 Success: Mission completes, drone lands and disarms</p>"},{"location":"phase-1-simulation/1.6-first-mission/#execute-mission-in-gazebo","title":"Execute Mission in Gazebo","text":""},{"location":"phase-1-simulation/1.6-first-mission/#video-demonstration_1","title":"Video Demonstration","text":"<p>Watch the mission with realistic 3D visualization:</p> <p></p> <p>Same mission with Gazebo Harmonic 3D physics and visualization</p>"},{"location":"phase-1-simulation/1.6-first-mission/#launch-gazebo","title":"Launch Gazebo","text":"<p>Terminal 1: <pre><code>gz sim -v4 -r iris_runway.sdf\n</code></pre></p> <p>Wait for: Gazebo window and drone to load.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#launch-sitl_1","title":"Launch SITL","text":"<p>Terminal 2: <pre><code>sim_vehicle.py -v ArduCopter -f gazebo-iris --model JSON --map --console\n</code></pre></p> <p>Wait for: Connection established, <code>STABILIZE&gt;</code> prompt.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#load-and-execute-mission","title":"Load and Execute Mission","text":"<p>In Terminal 2 (SITL prompt):</p> <pre><code>wp load /home/YOUR_USERNAME/simtofly_ws/missions/square_mission.txt\nwp list\nmode GUIDED\narm throttle\ntakeoff 10\nmode AUTO\n</code></pre> <p>Watch in Gazebo:</p> <ul> <li>Propellers spin</li> <li>Drone lifts off</li> <li>Flies square pattern in 3D</li> <li>Returns and lands</li> <li>Realistic physics simulation</li> </ul> <p>Much more impressive with 3D visualization!</p> <p>\u2705 Success: Complete autonomous mission in Gazebo</p>"},{"location":"phase-1-simulation/1.6-first-mission/#understanding-mission-behavior","title":"Understanding Mission Behavior","text":""},{"location":"phase-1-simulation/1.6-first-mission/#mission-states","title":"Mission States","text":"<p>Pre-flight:</p> <ul> <li>Mission loaded but not executing</li> <li>Can review with <code>wp list</code></li> <li>Can clear with <code>wp clear</code></li> </ul> <p>During mission (AUTO mode):</p> <ul> <li>Executing waypoints sequentially</li> <li>Current waypoint shown in console</li> <li>Can pause: <code>mode LOITER</code> (requires <code>rc 3 1500</code> first)</li> <li>Can resume: <code>mode AUTO</code> (continues from next waypoint)</li> </ul> <p>Mission complete:</p> <ul> <li>Returns to launch via RTL</li> <li>Lands at home position</li> <li>Automatically disarms</li> <li>Mode stays AUTO</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#rtl-behavior","title":"RTL Behavior","text":"<p>When RTL command executes (waypoint 6 or manual <code>mode RTL</code>):</p> <ol> <li>Drone climbs to RTL altitude (15m default) if below</li> <li>Flies directly to home position</li> <li>Descends at controlled rate</li> <li>Lands at home</li> <li>Automatically disarms</li> </ol> <p>RTL altitude parameter: <code>RTL_ALT</code> (default 1500 = 15 meters)</p> <p>Useful for: Mission completion or emergency return</p>"},{"location":"phase-1-simulation/1.6-first-mission/#pausing-mission-mid-flight","title":"Pausing Mission Mid-Flight","text":"<p>To pause and hold position:</p> <pre><code>rc 3 1500        # Set throttle first (prevents altitude loss)\nmode LOITER      # Holds current GPS position\n</code></pre> <p>To resume mission: <pre><code>mode AUTO        # Continues from next waypoint\n</code></pre></p> <p>Emergency abort: <pre><code>mode RTL         # Returns to home immediately\n</code></pre></p>"},{"location":"phase-1-simulation/1.6-first-mission/#alternative-mission-execution-method","title":"Alternative Mission Execution Method","text":""},{"location":"phase-1-simulation/1.6-first-mission/#advanced-direct-auto-mode","title":"Advanced: Direct AUTO Mode","text":"<p>For experienced users, direct AUTO mode from ground:</p> <pre><code>wp load /home/YOUR_USERNAME/simtofly_ws/missions/square_mission.txt\nmode LOITER\nrc 3 1500\narm throttle\nmode AUTO\n</code></pre> <p>This method:</p> <ul> <li>Uses mission's TAKEOFF command directly</li> <li>Requires throttle setting to prevent failsafe</li> <li>More complex but demonstrates proper AUTO mode usage</li> </ul> <p>Beginners should use GUIDED method shown above.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#create-custom-mission","title":"Create Custom Mission","text":""},{"location":"phase-1-simulation/1.6-first-mission/#using-your-location","title":"Using Your Location","text":"<p>Find your coordinates:</p> <ul> <li>Google Maps: Right-click location \u2192 Click coordinates to copy</li> <li>Format: Latitude, Longitude (e.g., 37.7749, -122.4194)</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-template","title":"Mission Template","text":"<p>Create <code>~/simtofly_ws/missions/custom_mission.txt</code>:</p> <pre><code>QGC WPL 110\n0   1   0   16  0   0   0   0   YOUR_LAT    YOUR_LON    YOUR_ALT    1\n1   0   3   22  0   0   0   0   0   0   10.0    1\n2   0   3   16  0   0   0   0   WAYPOINT1_LAT   WAYPOINT1_LON   15.0    1\n3   0   3   16  0   0   0   0   WAYPOINT2_LAT   WAYPOINT2_LON   15.0    1\n4   0   3   21  0   0   0   0   0   0   0   1\n</code></pre> <p>Replace:</p> <ul> <li><code>YOUR_LAT</code>, <code>YOUR_LON</code> \u2014 Your home position</li> <li><code>YOUR_ALT</code> \u2014 Your altitude MSL (check Google Earth)</li> <li><code>WAYPOINT1_LAT</code>, <code>WAYPOINT1_LON</code> \u2014 First waypoint</li> <li><code>WAYPOINT2_LAT</code>, <code>WAYPOINT2_LON</code> \u2014 Second waypoint</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#coordinate-math-approximate","title":"Coordinate Math (Approximate)","text":"<p>At equator (rough estimates):</p> <ul> <li>1\u00b0 latitude \u2248 111 km</li> <li>1\u00b0 longitude \u2248 111 km</li> </ul> <p>For small distances:</p> <ul> <li>0.0001\u00b0 \u2248 11 meters</li> <li>0.001\u00b0 \u2248 111 meters</li> </ul> <p>Example: Move 50m North from start: <pre><code>Original Lat: -35.363261\nAdd 0.00045: -35.362811  (\u224850m North)\n</code></pre></p> <p>Better tool: Use mission planner software or online calculators.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#analyzing-flight-logs","title":"Analyzing Flight Logs","text":""},{"location":"phase-1-simulation/1.6-first-mission/#where-logs-are-saved","title":"Where Logs Are Saved","text":"<p>SITL saves logs automatically:</p> <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter/logs\nls -lt\n</code></pre> <p>Expected output: <pre><code>00000001.BIN\n00000002.BIN\n...\n</code></pre></p> <p>Latest log: Highest number.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#advanced-log-analysis-optional","title":"Advanced: Log Analysis (Optional)","text":"<p>Online tool (Recommended for beginners):</p> <p>Upload logs to: https://plot.ardupilot.org/</p> <p>Features:</p> <ul> <li>No installation needed</li> <li>Visual graphs of flight data</li> <li>Analyze altitude, speed, position</li> <li>Compare multiple flights</li> <li>Share analysis with others</li> </ul> <p>To upload:</p> <ol> <li>Find latest <code>.BIN</code> file in logs directory</li> <li>Go to https://plot.ardupilot.org/</li> <li>Upload the file</li> <li>Explore interactive graphs</li> </ol>"},{"location":"phase-1-simulation/1.6-first-mission/#command-line-log-viewing","title":"Command-Line Log Viewing","text":"<p>View log summary: <pre><code>cd ~/simtofly_ws/ardupilot/ArduCopter/logs\nmavlogdump.py 00000001.BIN | less\n</code></pre></p> <p>Extract mission data: <pre><code>mavlogdump.py 00000001.BIN | grep \"MISSION\"\n</code></pre></p> <p>Extract mode changes: <pre><code>mavlogdump.py 00000001.BIN | grep \"MODE\"\n</code></pre></p> <p>Extract GPS positions: <pre><code>mavlogdump.py 00000001.BIN | grep \"GPS\"\n</code></pre></p>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-best-practices","title":"Mission Best Practices","text":""},{"location":"phase-1-simulation/1.6-first-mission/#safety-guidelines","title":"Safety Guidelines","text":"<p>Always:</p> <ul> <li>Test missions in SITL before real hardware</li> <li>Include takeoff command as first action</li> <li>Include RTL or LAND as last command</li> <li>Keep waypoints within safe distance</li> <li>Check altitude limits (not too high)</li> </ul> <p>Never:</p> <ul> <li>Skip home position (line 0)</li> <li>Use absolute altitude without understanding MSL</li> <li>Create waypoints too close together (minimum ~5m)</li> <li>Forget autocontinue flag (missions won't progress)</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-design-tips","title":"Mission Design Tips","text":"<p>Start simple:</p> <ul> <li>3-5 waypoints maximum</li> <li>Single altitude throughout</li> <li>Familiar area</li> </ul> <p>Progress to complex:</p> <ul> <li>Multiple altitudes</li> <li>Actions at waypoints (delay, change speed)</li> <li>Survey patterns (grid, spiral)</li> </ul> <p>Test incrementally:</p> <ul> <li>Fly each waypoint manually first</li> <li>Then convert to mission</li> <li>Test in SITL</li> <li>Finally test on real hardware (Phase 4)</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#verification-checklist","title":"Verification Checklist","text":"<p>Before moving to Phase 2, verify you can:</p> <ul> <li> Launch SITL from any directory (PATH set)</li> <li> Create mission file with correct format</li> <li> Load mission using full path</li> <li> Verify mission with <code>wp list</code></li> <li> Execute mission in SITL (GUIDED \u2192 AUTO)</li> <li> Execute mission in Gazebo with 3D visualization</li> <li> Monitor mission progress via map and console</li> <li> Understand RTL behavior</li> <li> Pause and resume mission if needed</li> <li> Find and view flight logs</li> <li> Create custom mission files</li> </ul> <p>All checked? Congratulations! Phase 1 complete! </p>"},{"location":"phase-1-simulation/1.6-first-mission/#what-you-accomplished-in-phase-1","title":"What You Accomplished in Phase 1","text":"<p>Simulation Environment:</p> <ul> <li>\u2705 Set up complete Ubuntu development environment</li> <li>\u2705 Installed ArduPilot SITL simulator</li> <li>\u2705 Configured Gazebo Harmonic 3D simulation</li> <li>\u2705 Built ArduPilot Gazebo plugin from source</li> </ul> <p>Drone Control:</p> <ul> <li>\u2705 Mastered MAVProxy command-line control</li> <li>\u2705 Understood flight modes and their purposes</li> <li>\u2705 Performed manual flights (arm, takeoff, navigate, land)</li> <li>\u2705 Monitored telemetry data in real-time</li> </ul> <p>Autonomous Flight:</p> <ul> <li>\u2705 Created waypoint mission files</li> <li>\u2705 Loaded and executed autonomous missions</li> <li>\u2705 Completed full square pattern mission in SITL and Gazebo</li> <li>\u2705 Analyzed flight logs</li> </ul> <p>Foundation Built:</p> <ul> <li>\u2705 Safe testing environment (no hardware risk)</li> <li>\u2705 Understanding of ArduPilot fundamentals</li> <li>\u2705 Ready for ROS2 integration (Phase 2)</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#whats-next-phase-2-ros2-integration","title":"What's Next: Phase 2 - ROS2 Integration","text":"<p>Coming in Phase 2:</p> <ul> <li>Install ROS2 Humble</li> <li>Setup MAVROS (MAVLink \u2194 ROS2 bridge)</li> <li>Create ROS2 nodes for drone control</li> <li>Subscribe to telemetry topics</li> <li>Publish control commands</li> <li>Execute missions via ROS2</li> <li>Visualize data in RViz</li> </ul> <p>Why ROS2?</p> <ul> <li>More flexible than MAVProxy</li> <li>Industry-standard robotics framework</li> <li>Integrate sensors (cameras, lidar)</li> <li>Advanced autonomy algorithms</li> <li>Multi-robot systems</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#common-questions","title":"Common Questions","text":""},{"location":"phase-1-simulation/1.6-first-mission/#q-can-i-create-missions-with-a-gui-instead-of-text-files","title":"Q: Can I create missions with a GUI instead of text files?","text":"<p>A: Yes! Use these tools:</p> <ul> <li>Mission Planner (Windows, most popular)</li> <li>QGroundControl (Cross-platform)</li> <li>APM Planner 2 (Cross-platform)</li> </ul> <p>They all export to same .txt format we use here.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#q-whats-the-maximum-mission-size","title":"Q: What's the maximum mission size?","text":"<p>A: ArduPilot supports up to 700+ waypoints, but practical limits:</p> <ul> <li>SITL: Unlimited (memory constrained)</li> <li>Real hardware: ~100-200 waypoints typical</li> <li>Depends on flight controller memory</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#q-why-use-guided-takeoff-before-auto-mode","title":"Q: Why use GUIDED takeoff before AUTO mode?","text":"<p>A: Starting in GUIDED mode provides:</p> <ul> <li>Visual confirmation systems are working</li> <li>Smoother transition to AUTO mode</li> <li>Better for beginners learning the workflow</li> <li>Advanced users can use direct AUTO mode</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#q-why-does-my-mission-skip-waypoints","title":"Q: Why does my mission skip waypoints?","text":"<p>Possible causes:</p> <ol> <li>Autocontinue flag = 0 (should be 1)</li> <li>Waypoint acceptance radius too large</li> <li>Mission file syntax error</li> </ol> <p>Check: <code>wp list</code> shows all waypoints correctly.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#q-how-do-i-add-camera-trigger-at-waypoint","title":"Q: How do I add camera trigger at waypoint?","text":"<p>A: Use DO_SET_CAM_TRIGG_DIST command (ID 206): <pre><code>3  0  3  206  10  0  0  0  0  0  0  1\n</code></pre> Triggers camera every 10 meters.</p> <p>More on this: ArduPilot camera trigger documentation.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#q-whats-the-difference-between-land-and-rtl","title":"Q: What's the difference between LAND and RTL?","text":"<p>A:</p> <ul> <li>LAND (20): Lands at current position immediately</li> <li>RTL (21): Returns to home position, then lands</li> <li>RTL climbs to 15m before returning (safety feature)</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#troubleshooting","title":"Troubleshooting","text":""},{"location":"phase-1-simulation/1.6-first-mission/#mission-wont-load-failed-to-load-waypoints","title":"Mission won't load - \"Failed to load waypoints\"","text":"<p>Cause: File format error or path issue</p> <p>Solution:</p> <ol> <li>Use full absolute path (not <code>~</code> or <code>$HOME</code>)</li> <li>Check header line: <code>QGC WPL 110</code> (exact text)</li> <li>Verify 12 columns per line (tab or space separated)</li> <li>No extra blank lines</li> <li>Home position (line 0) has Current=1</li> </ol>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-loads-but-drone-doesnt-move","title":"Mission loads but drone doesn't move","text":"<p>Cause: Not in AUTO mode or not armed properly</p> <p>Solution: <pre><code>mode GUIDED\narm throttle\ntakeoff 10\nmode AUTO\n</code></pre> In this exact order.</p>"},{"location":"phase-1-simulation/1.6-first-mission/#drone-flies-to-wrong-location","title":"Drone flies to wrong location","text":"<p>Cause: Incorrect coordinates in mission file</p> <p>Solution:</p> <ul> <li>Verify latitude/longitude are in decimal degrees (not DMS)</li> <li>Check sign (negative for South/West)</li> <li>Verify altitude is relative (Frame=3), not absolute</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#mission-starts-but-immediately-disarms","title":"Mission starts but immediately disarms","text":"<p>Cause: Throttle failsafe or starting directly in AUTO</p> <p>Solution: Use GUIDED takeoff method: <pre><code>mode GUIDED\narm throttle\ntakeoff 10\nmode AUTO\n</code></pre></p>"},{"location":"phase-1-simulation/1.6-first-mission/#drone-hovers-at-waypoint-and-doesnt-continue","title":"Drone hovers at waypoint and doesn't continue","text":"<p>Cause: Autocontinue flag = 0</p> <p>Solution: - Last column of each line should be <code>1</code> - Change <code>0</code> to <code>1</code> in mission file - Reload mission</p>"},{"location":"phase-1-simulation/1.6-first-mission/#no-gps-lock-in-sitl","title":"\"No GPS lock\" in SITL","text":"<p>Cause: Rare in SITL, GPS initializes instantly</p> <p>Solution:</p> <ul> <li>Wait 5 seconds after SITL launch</li> <li>Check console shows GPS: 3D Fix</li> <li>Restart SITL if issue persists</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#cannot-load-mission-file-no-such-file-or-directory","title":"Cannot load mission file - \"No such file or directory\"","text":"<p>Cause: MAVProxy doesn't expand <code>~</code> or <code>$HOME</code></p> <p>Solution: Use full absolute path: <pre><code>wp load /home/YOUR_USERNAME/simtofly_ws/missions/square_mission.txt\n</code></pre></p> <p>Find your username with: <code>echo $USER</code></p>"},{"location":"phase-1-simulation/1.6-first-mission/#additional-resources","title":"Additional Resources","text":"<p>ArduPilot Documentation:</p> <ul> <li>Mission Commands: https://ardupilot.org/copter/docs/common-mavlink-mission-command-messages-mav_cmd.html</li> <li>Mission Planning: https://ardupilot.org/copter/docs/common-mission-planning.html</li> <li>AUTO Mode: https://ardupilot.org/copter/docs/auto-mode.html</li> </ul> <p>MAVLink Protocol:</p> <ul> <li>Command Reference: https://mavlink.io/en/messages/common.html</li> <li>Mission Protocol: https://mavlink.io/en/services/mission.html</li> </ul> <p>Tools:</p> <ul> <li>QGroundControl: http://qgroundcontrol.com/</li> <li>Mission Planner: https://ardupilot.org/planner/</li> <li>MAVProxy Documentation: https://ardupilot.org/mavproxy/</li> <li>Log Analysis: https://plot.ardupilot.org/</li> </ul>"},{"location":"phase-1-simulation/1.6-first-mission/#congratulations-on-completing-phase-1","title":"Congratulations on Completing Phase 1!","text":"<p>You've built a solid foundation in drone simulation and autonomous flight. You now understand:</p> <ul> <li>ArduPilot SITL simulator</li> <li>Gazebo 3D visualization</li> <li>MAVProxy control</li> <li>Waypoint missions</li> <li>Autonomous flight execution</li> </ul> <p>You're ready for Phase 2: ROS2 Integration</p> <p>Take a break, review what you've learned, and when ready, continue your journey!</p>"},{"location":"phase-1-simulation/1.6-first-mission/#share-your-success","title":"Share Your Success","text":"<p>Completed Phase 1? We'd love to hear about it!</p> <ul> <li>Star the repository: https://github.com/simtofly/simtofly-guide</li> <li>Share your experience in Discussions</li> <li>Help others in Issues section</li> <li>Tweet with #SimToFly</li> </ul> <p>Your feedback helps improve this tutorial for everyone!</p> <p>\u2190 Back: 1.5 Gazebo Simulation | Next: Phase 2 Overview \u2192</p> <p>  Phase 1 Complete!  You've mastered simulation. Now let's integrate ROS2. Continue to Phase 2 \u2192 </p>"},{"location":"phase-2-ros2/","title":"Phase 2: ROS2 Integration","text":"<p>Coming Soon!</p> <p>Phase 2 will cover: - ROS2 Humble installation - MAVROS setup - Creating ROS2 control nodes - Autonomous missions via ROS2</p> <p>\u2190 Back to Home</p>"},{"location":"phase-3-companion/","title":"Phase 3: Companion Computer","text":"<p>Coming Soon!</p> <p>Phase 3 will cover: - Raspberry Pi setup - Serial connection to flight controller - Deploying ROS2 on companion computer</p> <p>\u2190 Back to Home</p>"},{"location":"phase-4-hardware/","title":"Phase 4: Real Hardware","text":"<p>Coming Soon!</p> <p>Phase 4 will cover: - Hardware assembly - Pre-flight checks - First real flight - Mission deployment</p> <p>\u2190 Back to Home</p>"}]}